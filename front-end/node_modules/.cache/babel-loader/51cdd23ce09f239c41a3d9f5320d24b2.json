{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rodri\\\\OneDrive\\\\Documentos\\\\cicc-app\\\\front-end\\\\src\\\\views\\\\Camera.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport axios from 'axios';\nimport axiosRetry from 'axios-retry';\nimport { getTimeoutConfig } from \"axios/AxiosUtils\";\nimport { getRetryConfig } from \"axios/AxiosUtils\";\nimport { GoogleMap, Marker } from '@react-google-maps/api';\nimport { useJsApiLoader } from '@react-google-maps/api';\nimport { Card, CardBody, Form, FormGroup, Label, Input, Button, Row, Col, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport env from 'common/enviroment.js';\nimport SelectableTable from 'components/tables/SelectableTable';\nimport TagsInput from 'components/tags/TagsInput';\nimport Tabs from 'components/Tabs';\nimport MapLegend from 'components/MapLegend';\nimport mapOptions from 'common/mapOptions.js';\nimport { MapsContext } from 'context/MapsContext';\nimport { NavigationContext } from 'context/NavigationContext';\nimport { createBaseHttpRequestBody } from 'axios/AxiosUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst displayLegend = {\n  \"DNIT\": \"DNIT\",\n  \"EQUIPAMENTOS PRF\": \"PRF\",\n  \"Pontos Estado\": \"ESTADO\" //\"SUGESTÕES\": \"SUGESTÕES\"\n\n};\nconst colors = {\n  \"DNIT\": \"#0f9d58\",\n  \"EQUIPAMENTOS PRF\": \"#0288d1\",\n  \"Pontos Estado\": \"#ffd600\" //\"SUGESTÕES\": \"#801e0f\"\n\n};\nconst categories = Object.keys(colors); //verificar props do container\n//Aparentemente tem um valor 'auto' para ajustar automaticamente o tamanho da altura para caber\n\nconst containerStyle = {\n  width: '100%',\n  height: 'auto'\n};\nconst BLANK_FORM_DATA = {\n  \"name\": \"\",\n  \"description\": \"\",\n  \"municipio\": {},\n  \"nrlatitude\": \"\",\n  \"nrlongitude\": \"\",\n  \"category\": \"\",\n  \"status\": true\n};\nexport default function Camera(props) {\n  _s();\n\n  const [tabIndex, setTabIndex] = React.useState(0);\n  const [filters, setFilters] = React.useState({});\n  const [modal, setModal] = React.useState(false);\n  const [editionModal, setEditionModal] = React.useState(false);\n  const {\n    camerasData,\n    getCamerasData,\n    citiesPB\n  } = React.useContext(MapsContext);\n  const {\n    setIsMap\n  } = React.useContext(NavigationContext);\n  const [pointsData, setPointsData] = React.useState(new Array(camerasData.length).fill(false));\n  const [pointIndex, setPointIndex] = React.useState(-1);\n  const [activeMarkers, setActiveMarkers] = React.useState(new Array(categories.length));\n  const [formData, setFormData] = React.useState(BLANK_FORM_DATA);\n  const axiosRetryProxy = axios.create(getTimeoutConfig());\n  axiosRetry(axiosRetryProxy, getRetryConfig());\n  const {\n    isLoaded: googleMapLoaded,\n    loadError: googleMapError\n  } = useJsApiLoader({\n    id: 'google-map-script',\n    googleMapsApiKey: env.googleApiKey\n  });\n\n  const markerClick = index => () => {\n    let markers = [...activeMarkers];\n    markers[index] = !markers[index];\n    setActiveMarkers(markers);\n  };\n\n  const pointClick = index => {\n    return () => {\n      let points = [...pointsData];\n      points[index] = !points[index];\n      setPointsData(points);\n    };\n  };\n\n  const toggleModal = (modalState, setState) => {\n    return () => setState(!modalState);\n  };\n\n  const handleChange = param => {\n    const re = /^-?[0-9\\b]*[.]?[0-9]*$/;\n    return e => {\n      if (e.target.value === '' || re.test(e.target.value)) {\n        setFormData({ ...formData,\n          [param]: e.target.value\n        });\n      }\n    };\n  };\n\n  const posPatch = () => {\n    getCamerasData();\n    setEditionModal(false);\n  };\n\n  const submitForm = function (method, route) {\n    let posFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : () => {};\n    //objeto para envio dos dados do form e cadastrar alerta\n    return () => {\n      let httpRequestBody = createBaseHttpRequestBody(formData);\n      axiosRetryProxy[method](\"\".concat(env.apiAddress, \"/locations/\").concat(route), httpRequestBody).then(res => {\n        posFunc();\n      });\n    };\n  };\n\n  const searchId = cityName => {\n    for (var i = 0; i < citiesPB.length; i++) {\n      if (citiesPB[i].nome === cityName) return {\n        id: citiesPB[i].id,\n        name: citiesPB[i].nome\n      };\n    }\n  };\n\n  React.useEffect(() => {\n    setIsMap(false);\n    getCamerasData(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  React.useEffect(() => {\n    if (editionModal) {\n      let pointIndex = pointsData.indexOf(true);\n      setPointIndex(pointIndex);\n      console.log(camerasData[pointIndex]);\n      setFormData({ ...camerasData[pointIndex],\n        \"municipio\": searchId(camerasData[pointIndex]['municipio'])\n      });\n    }\n\n    if (tabIndex === 0) {\n      setFormData(BLANK_FORM_DATA);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [editionModal, tabIndex]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    children: [/*#__PURE__*/_jsxDEV(Tabs, {\n      names: ['Cadastrar Nova Câmera', 'Gerenciamento de Câmeras'],\n      index: [tabIndex, setTabIndex]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"card\",\n      style: {\n        borderTopLeftRadius: '0px'\n      },\n      children: /*#__PURE__*/_jsxDEV(CardBody, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Label, {\n              style: {\n                fontSize: '1.3rem'\n              },\n              children: tabIndex === 0 ? \"Prévia de posicionamento\" : \"Selecione as câmeras para exclusão\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"map\",\n          className: \"map\",\n          style: {\n            position: \"relative\",\n            overflow: \"hidden\",\n            display: 'flex'\n          },\n          children: [tabIndex === 1 && /*#__PURE__*/_jsxDEV(MapLegend, {\n            categories: categories,\n            colors: colors,\n            activeCategories: activeMarkers,\n            onClick: markerClick,\n            display: displayLegend\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 32\n          }, this), googleMapError && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"N\\xE3o foi poss\\xEDvel carregar o GoogleMap.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 32\n          }, this), googleMapLoaded ? /*#__PURE__*/_jsxDEV(GoogleMap, {\n            mapContainerStyle: containerStyle,\n            center: props.center,\n            zoom: props.zoom,\n            options: mapOptions,\n            children: [tabIndex === 0 && /*#__PURE__*/_jsxDEV(Marker, {\n              className: \"map-icon\",\n              position: {\n                lat: formData.nrlatitude !== '' && parseFloat(formData.nrlatitude),\n                lng: formData.nrlongitude !== '' && parseFloat(formData.nrlongitude)\n              },\n              options: {\n                icon: {\n                  path: 'M18.364 17.364L12 23.728l-6.364-6.364a9 9 0 1 1 12.728 0zM12 13a2 2 0 1 0 0-4 2 2 0 0 0 0 4z',\n                  fillColor: '#0f9d58',\n                  fillOpacity: 1,\n                  strokeColor: '#2c2c2c',\n                  anchor: {\n                    x: 20,\n                    y: 20\n                  }\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 19\n            }, this), tabIndex === 1 && camerasData.filter(point => {\n              return !activeMarkers[categories.indexOf(point['category'])];\n            }).map((point, index) => /*#__PURE__*/_jsxDEV(Marker, {\n              className: \"map-icon\",\n              position: {\n                lat: point['nrlatitude'],\n                lng: point['nrlongitude']\n              },\n              onClick: pointClick(index),\n              zIndex: pointsData[index] ? categories.length + 1 : categories.length - categories.indexOf(point['category']),\n              options: {\n                icon: {\n                  url: \"https://ik.imagekit.io/exi1dv80wm/pin/\".concat(pointsData[index] ? 'ff0000' : colors[point['category']].slice(-6), \".png\"),\n                  scaledSize: {\n                    height: 26,\n                    width: 21\n                  }\n                }\n              }\n            }, \"marker-\".concat(index), false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 23\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 34\n          }, this) : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), tabIndex === 0 && /*#__PURE__*/_jsxDEV(Form, {\n          style: {\n            margin: \"2rem 0.25rem\"\n          },\n          onSubmit: e => {\n            e.preventDefault();\n          },\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            form: true,\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  for: \"latitude\",\n                  children: \"Latitude\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  id: \"latitude\",\n                  placeholder: \"ex: -7.43933\",\n                  value: formData.nrlatitude,\n                  onChange: handleChange(\"nrlatitude\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  for: \"longitude\",\n                  children: \"Longitude\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  id: \"longitude\",\n                  placeholder: \"ex: -34.9136\",\n                  value: formData.nrlongitude,\n                  onChange: handleChange(\"nrlongitude\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            form: true,\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 4,\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  for: \"descricao\",\n                  children: \"Nome do Local de Registro\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  id: \"descricao\",\n                  placeholder: \"ex: BR 101 KM 109+900\",\n                  value: formData.name,\n                  onChange: e => setFormData({ ...formData,\n                    \"name\": e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 4,\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  for: \"descricao\",\n                  children: \"Descri\\xE7\\xE3o\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  id: \"descricao\",\n                  placeholder: \"Descri\\xE7\\xE3o/Ponto de Refer\\xEAncia\",\n                  value: formData.description,\n                  onChange: e => setFormData({ ...formData,\n                    \"description\": e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 2,\n              style: {\n                justifyContent: \"center\",\n                display: \"flex\"\n              },\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  for: \"selectCategoria\",\n                  children: \"Categoria \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  type: \"select\",\n                  name: \"selectt\",\n                  id: \"selectCategoria\",\n                  value: formData.category,\n                  onChange: e => setFormData({ ...formData,\n                    \"category\": e.target.value\n                  }),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"Selecione\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"DNIT\",\n                    children: \"DNIT\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Equipamento PRF\",\n                    children: \"Equipamento PRF\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Sugest\\xF5es\",\n                    children: \"Sugest\\xF5es\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Pontos Estado\",\n                    children: \"Pontos Estado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 2,\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  for: \"selectStatus\",\n                  children: \"Status \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  type: \"select\",\n                  name: \"selectStatuss\",\n                  id: \"selectStatus\",\n                  value: formData.status,\n                  onChange: e => setFormData({ ...formData,\n                    \"status\": e.target.value\n                  }),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"Selecione\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"ativo\",\n                    children: \"Ativo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"inativo\",\n                    children: \"Inativo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 303,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  for: \"exampleSelectMulti\",\n                  children: \"Munic\\xEDpio \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  type: \"select\",\n                  name: \"selectMulti\",\n                  id: \"exampleSelectMulti\",\n                  value: formData.municipio.id,\n                  onChange: e => setFormData({ ...formData,\n                    \"municipio\": e.target.value\n                  }),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"Selecione\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 23\n                  }, this), citiesPB.map((city, index) => {\n                    return /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: city.id,\n                      id: index,\n                      children: city.nome\n                    }, \"option-city-\".concat(index), false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 323,\n                      columnNumber: 27\n                    }, this);\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              style: {\n                alignItems: 'center',\n                justifyContent: 'center',\n                display: 'flex'\n              },\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                color: \"primary\",\n                style: {\n                  width: \"15rem\",\n                  marginTop: '2rem'\n                },\n                onClick: submitForm(\"post\", \"create\"),\n                children: \"Cadastrar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this), tabIndex === 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              style: {\n                marginTop: '2rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(TagsInput, {\n                setQuery: setFilters,\n                columns: {\n                  \"Nome\": {\n                    display: \"name\",\n                    column_type: \"varying\"\n                  },\n                  \"Descrição\": {\n                    field: \"description\",\n                    column_type: \"varying\"\n                  },\n                  \"Latitude\": {\n                    field: \"nrlatitude\",\n                    column_type: \"float\"\n                  },\n                  \"Longitude\": {\n                    field: \"nrlongitude\",\n                    column_type: \"float\"\n                  },\n                  \"Categoria\": {\n                    field: \"category\",\n                    column_type: \"varying\"\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(SelectableTable, {\n                data: camerasData,\n                state: [pointsData, pointClick],\n                pageSize: 5\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"deleteContainer\",\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                style: {\n                  marginTop: '2rem'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: pointsData.map((point, index) => {\n                    if (point) return /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: camerasData[index]['name']\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 377,\n                      columnNumber: 34\n                    }, this);else return null;\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              style: {\n                marginTop: \"2rem\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                style: {\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  display: 'flex'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  color: \"primary\",\n                  disabled: !pointsData.filter(point => point).length,\n                  onClick: toggleModal(modal, setModal),\n                  children: \"Confirmar Exclus\\xE3o\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 21\n                }, this), pointsData.filter(point => point).length === 1 && /*#__PURE__*/_jsxDEV(Button, {\n                  color: \"primary\",\n                  style: {\n                    marginLeft: '1rem'\n                  },\n                  onClick: toggleModal(editionModal, setEditionModal),\n                  children: \"Editar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 72\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Modal, {\n              isOpen: modal,\n              toggle: toggleModal(modal, setModal),\n              children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n                children: \"Confirmar A\\xE7\\xE3o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n                children: [\"Deseja realmente excluir as seguintes c\\xE2meras:\", /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: pointsData.map((point, index) => {\n                    if (point) return /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: camerasData[index]['name']\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 399,\n                      columnNumber: 34\n                    }, this);else return null;\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  color: \"danger\",\n                  onClick: toggleModal(modal, setModal),\n                  children: \"Excluir\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 21\n                }, this), ' ', /*#__PURE__*/_jsxDEV(Button, {\n                  color: \"secondary\",\n                  onClick: toggleModal(modal, setModal),\n                  children: \"Cancelar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Modal, {\n              isOpen: editionModal,\n              toggle: toggleModal(editionModal, setEditionModal),\n              children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n                toggle: toggleModal(editionModal, setEditionModal),\n                children: formData.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n                style: {\n                  justifyContent: 'center',\n                  alignContent: 'center',\n                  display: 'flex'\n                },\n                children: /*#__PURE__*/_jsxDEV(Form, {\n                  children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n                    row: true,\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      for: \"name\",\n                      sm: 6,\n                      children: /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Nome:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 416,\n                        columnNumber: 50\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 416,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      sm: 12,\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        value: formData.name,\n                        onChange: e => setFormData({ ...formData,\n                          \"name\": e.target.value\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 418,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 417,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                    row: true,\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      for: \"description\",\n                      sm: 6,\n                      children: /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Descri\\xE7\\xE3o do Alerta:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 423,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 423,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      sm: 12,\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        type: \"textarea\",\n                        value: formData.description,\n                        onChange: e => setFormData({ ...formData,\n                          \"description\": e.target.value\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 425,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 424,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                    row: true,\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      for: \"latitude\",\n                      sm: 12,\n                      children: /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Coordenadas (Latitude, Longitude):\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 430,\n                        columnNumber: 55\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 430,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      sm: 6,\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        value: formData.nrlatitude,\n                        onChange: e => setFormData({ ...formData,\n                          \"nrlatitude\": e.target.value\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 435,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 434,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      sm: 6,\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        value: formData.nrlongitude,\n                        onChange: e => setFormData({ ...formData,\n                          \"nrlongitude\": e.target.value\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 438,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 437,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                    row: true,\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      for: \"municipio\",\n                      sm: 12,\n                      children: /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Munic\\xEDpio:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 443,\n                        columnNumber: 56\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 443,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      sm: 12,\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        type: \"select\",\n                        name: \"selectMulti\",\n                        id: \"exampleSelectMulti\",\n                        value: formData.municipio.id,\n                        onChange: e => setFormData({ ...formData,\n                          \"municipio\": e.target.value\n                        }),\n                        children: citiesPB.map((city, index) => {\n                          return /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: city.id,\n                            id: index,\n                            children: city.nome\n                          }, \"\".concat(city.nome), false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 455,\n                            columnNumber: 33\n                          }, this);\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 445,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 444,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 442,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                    row: true,\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      for: \"municipio\",\n                      sm: 12,\n                      children: /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Categoria e Status:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 464,\n                        columnNumber: 56\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 464,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      sm: 7,\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        type: \"select\",\n                        name: \"selectt\",\n                        id: \"selectCategoria\",\n                        value: formData.category,\n                        onChange: e => setFormData({ ...formData,\n                          \"category\": e.target.value\n                        }),\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"DNIT\",\n                          children: \"DNIT\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 475,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"EQUIPAMENTOS PRF\",\n                          children: \"Equipamentos PRF\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 476,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"SUGEST\\xD5ES\",\n                          children: \"Sugest\\xF5es\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 477,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"Pontos Estado\",\n                          children: \"Pontos Estado\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 478,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 467,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 466,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      sm: 5,\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        type: \"select\",\n                        name: \"status\",\n                        id: \"status\",\n                        value: formData.status,\n                        onChange: e => setFormData({ ...formData,\n                          \"status\": e.target.value\n                        }),\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: true,\n                          children: \"Ativado\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 491,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: false,\n                          children: \"Desativado\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 492,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 483,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 482,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 463,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                    check: true,\n                    row: true,\n                    style: {\n                      display: 'flex',\n                      justifyContent: 'center',\n                      marginTop: '2rem'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Col, {\n                      md: 16,\n                      children: /*#__PURE__*/_jsxDEV(Button, {\n                        onClick: pointIndex >= 0 && submitForm(\"patch\", \"update/\".concat(camerasData[pointIndex][\"id\"]), posPatch),\n                        children: \"Confirmar Edi\\xE7\\xE3o\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 499,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 498,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 497,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Camera, \"GKuJyN8PExSEdk1Ud8YDd+Cs5LI=\", false, function () {\n  return [useJsApiLoader];\n});\n\n_c = Camera;\nCamera.defaultProps = {\n  center: {\n    lat: -7.254653852199306,\n    lng: -36.69661154766497\n  },\n  zoom: 4\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Camera\");","map":{"version":3,"sources":["C:/Users/rodri/OneDrive/Documentos/cicc-app/front-end/src/views/Camera.js"],"names":["React","axios","axiosRetry","getTimeoutConfig","getRetryConfig","GoogleMap","Marker","useJsApiLoader","Card","CardBody","Form","FormGroup","Label","Input","Button","Row","Col","Modal","ModalHeader","ModalBody","ModalFooter","env","SelectableTable","TagsInput","Tabs","MapLegend","mapOptions","MapsContext","NavigationContext","createBaseHttpRequestBody","displayLegend","colors","categories","Object","keys","containerStyle","width","height","BLANK_FORM_DATA","Camera","props","tabIndex","setTabIndex","useState","filters","setFilters","modal","setModal","editionModal","setEditionModal","camerasData","getCamerasData","citiesPB","useContext","setIsMap","pointsData","setPointsData","Array","length","fill","pointIndex","setPointIndex","activeMarkers","setActiveMarkers","formData","setFormData","axiosRetryProxy","create","isLoaded","googleMapLoaded","loadError","googleMapError","id","googleMapsApiKey","googleApiKey","markerClick","index","markers","pointClick","points","toggleModal","modalState","setState","handleChange","param","re","e","target","value","test","posPatch","submitForm","method","route","posFunc","httpRequestBody","apiAddress","then","res","searchId","cityName","i","nome","name","useEffect","indexOf","console","log","borderTopLeftRadius","fontSize","position","overflow","display","center","zoom","lat","nrlatitude","parseFloat","lng","nrlongitude","icon","path","fillColor","fillOpacity","strokeColor","anchor","x","y","filter","point","map","url","slice","scaledSize","margin","preventDefault","description","justifyContent","category","status","municipio","city","alignItems","marginTop","column_type","field","marginLeft","alignContent","defaultProps"],"mappings":"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","sourcesContent":["\r\nimport React from 'react';\r\nimport axios from 'axios';\r\nimport axiosRetry from 'axios-retry';\r\nimport { getTimeoutConfig } from \"axios/AxiosUtils\";\r\nimport { getRetryConfig } from \"axios/AxiosUtils\";\r\nimport { GoogleMap, Marker } from '@react-google-maps/api'\r\nimport { useJsApiLoader } from '@react-google-maps/api';\r\n\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n  Input,\r\n  Button,\r\n  Row,\r\n  Col,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter\r\n} from 'reactstrap';\r\nimport env from 'common/enviroment.js';\r\nimport SelectableTable from 'components/tables/SelectableTable';\r\nimport TagsInput from 'components/tags/TagsInput';\r\nimport Tabs from 'components/Tabs';\r\nimport MapLegend from 'components/MapLegend';\r\n\r\nimport mapOptions from 'common/mapOptions.js'\r\nimport { MapsContext } from 'context/MapsContext'\r\nimport { NavigationContext } from 'context/NavigationContext'\r\nimport { createBaseHttpRequestBody } from 'axios/AxiosUtils';\r\n\r\nconst displayLegend = {\r\n  \"DNIT\": \"DNIT\",\r\n  \"EQUIPAMENTOS PRF\": \"PRF\",\r\n  \"Pontos Estado\": \"ESTADO\"\r\n  //\"SUGESTÕES\": \"SUGESTÕES\"\r\n}\r\n\r\nconst colors = {\r\n  \"DNIT\": \"#0f9d58\",\r\n  \"EQUIPAMENTOS PRF\": \"#0288d1\",\r\n  \"Pontos Estado\": \"#ffd600\",\r\n  //\"SUGESTÕES\": \"#801e0f\"\r\n}\r\n\r\nconst categories = Object.keys(colors)\r\n\r\n//verificar props do container\r\n//Aparentemente tem um valor 'auto' para ajustar automaticamente o tamanho da altura para caber\r\nconst containerStyle = {\r\n  width: '100%',\r\n  height: 'auto'\r\n};\r\n\r\nconst BLANK_FORM_DATA = {\r\n  \"name\": \"\",\r\n  \"description\": \"\",\r\n  \"municipio\": {},\r\n  \"nrlatitude\": \"\",\r\n  \"nrlongitude\": \"\",\r\n  \"category\": \"\",\r\n  \"status\": true\r\n}\r\n\r\nexport default function Camera(props) {\r\n  const [tabIndex, setTabIndex] = React.useState(0)\r\n  const [filters, setFilters] = React.useState({});\r\n  const [modal, setModal] = React.useState(false);\r\n  const [editionModal, setEditionModal] = React.useState(false);\r\n  const { camerasData, getCamerasData, citiesPB } = React.useContext(MapsContext);\r\n  const { setIsMap } = React.useContext(NavigationContext);\r\n  const [pointsData, setPointsData] = React.useState(new Array(camerasData.length).fill(false));\r\n  const [pointIndex, setPointIndex] = React.useState(-1)\r\n  const [activeMarkers, setActiveMarkers] = React.useState(new Array(categories.length))\r\n  const [formData, setFormData] = React.useState(BLANK_FORM_DATA)\r\n\r\n  const axiosRetryProxy = axios.create(getTimeoutConfig())\r\n  axiosRetry(axiosRetryProxy, getRetryConfig())\r\n\r\n\r\n  const { isLoaded: googleMapLoaded, loadError: googleMapError } = useJsApiLoader({\r\n    id: 'google-map-script',\r\n    googleMapsApiKey: env.googleApiKey\r\n  })\r\n\r\n\r\n  const markerClick = (index) => () => {\r\n    let markers = [...activeMarkers]\r\n\r\n    markers[index] = !markers[index]\r\n\r\n    setActiveMarkers(markers)\r\n  }\r\n\r\n\r\n  const pointClick = (index) => {\r\n    return () => {\r\n      let points = [...pointsData]\r\n\r\n      points[index] = !points[index]\r\n\r\n      setPointsData(points)\r\n    }\r\n  }\r\n\r\n  const toggleModal = (modalState, setState) => {\r\n    return () => setState(!modalState)\r\n  };\r\n\r\n  const handleChange = (param) => {\r\n    const re = /^-?[0-9\\b]*[.]?[0-9]*$/\r\n\r\n    return e => {\r\n      if (e.target.value === '' || re.test(e.target.value)) {\r\n        setFormData({ ...formData, [param]: e.target.value })\r\n      }\r\n    }\r\n  }\r\n\r\n  const posPatch = () => {\r\n    getCamerasData()\r\n    setEditionModal(false)\r\n  }\r\n\r\n  const submitForm = (method, route, posFunc = () => { }) => {\r\n    //objeto para envio dos dados do form e cadastrar alerta\r\n    return () => {\r\n      let httpRequestBody = createBaseHttpRequestBody(formData)\r\n\r\n      axiosRetryProxy[method](`${env.apiAddress}/locations/${route}`, httpRequestBody)\r\n        .then(res => {\r\n          posFunc()\r\n        })\r\n    }\r\n  }\r\n\r\n  const searchId = (cityName) => {\r\n    for (var i = 0; i < citiesPB.length; i++) {\r\n      if (citiesPB[i].nome === cityName)\r\n        return { id: citiesPB[i].id, name: citiesPB[i].nome }\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setIsMap(false)\r\n    getCamerasData()\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    if (editionModal) {\r\n      let pointIndex = pointsData.indexOf(true)\r\n\r\n      setPointIndex(pointIndex)\r\n      console.log(camerasData[pointIndex])\r\n      setFormData({ ...camerasData[pointIndex], \"municipio\": searchId(camerasData[pointIndex]['municipio']) })\r\n    }\r\n    if (tabIndex === 0) {\r\n      setFormData(BLANK_FORM_DATA)\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [editionModal, tabIndex])\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <Tabs names={['Cadastrar Nova Câmera', 'Gerenciamento de Câmeras']} index={[tabIndex, setTabIndex]} />\r\n      <Card className=\"card\" style={{ borderTopLeftRadius: '0px' }}>\r\n        <CardBody>\r\n          <Row>\r\n            <Col>\r\n              <Label style={{ fontSize: '1.3rem' }}>{tabIndex === 0 ? \"Prévia de posicionamento\" : \"Selecione as câmeras para exclusão\"}</Label>\r\n            </Col>\r\n          </Row>\r\n          <div\r\n            id=\"map\"\r\n            className=\"map\"\r\n            style={{ position: \"relative\", overflow: \"hidden\", display: 'flex' }}\r\n          >\r\n            {tabIndex === 1 && <MapLegend categories={categories} colors={colors} activeCategories={activeMarkers} onClick={markerClick} display={displayLegend} />}\r\n\r\n            {googleMapError && <div>Não foi possível carregar o GoogleMap.</div>}\r\n            {(googleMapLoaded) ? <GoogleMap\r\n                mapContainerStyle={containerStyle}\r\n                center={props.center}\r\n                zoom={props.zoom}\r\n                options={mapOptions}\r\n              >\r\n                {tabIndex === 0 &&\r\n                  <Marker\r\n                    className=\"map-icon\"\r\n                    position={{ lat: formData.nrlatitude !== '' && parseFloat(formData.nrlatitude), lng: formData.nrlongitude !== '' && parseFloat(formData.nrlongitude) }}\r\n                    options={{\r\n                      icon: {\r\n                        path: 'M18.364 17.364L12 23.728l-6.364-6.364a9 9 0 1 1 12.728 0zM12 13a2 2 0 1 0 0-4 2 2 0 0 0 0 4z',\r\n                        fillColor: '#0f9d58',\r\n                        fillOpacity: 1,\r\n                        strokeColor: '#2c2c2c',\r\n                        anchor: {\r\n                          x: 20,\r\n                          y: 20,\r\n                        }\r\n                      }\r\n                    }}\r\n                  />\r\n                }\r\n\r\n                {/*criação das cameras no mapa */}\r\n                {tabIndex === 1 &&\r\n                  camerasData.filter(point => {\r\n                    return !activeMarkers[categories.indexOf(point['category'])]\r\n                  })\r\n                    .map((point, index) => (\r\n                      <Marker\r\n                        key={`marker-${index}`}\r\n                        className=\"map-icon\"\r\n                        position={{ lat: point['nrlatitude'], lng: point['nrlongitude'] }}\r\n                        onClick={pointClick(index)}\r\n                        zIndex={pointsData[index] ? categories.length + 1 : categories.length - categories.indexOf(point['category'])}\r\n                        options={{\r\n                          icon: {\r\n                            url: `https://ik.imagekit.io/exi1dv80wm/pin/${pointsData[index] ? 'ff0000' : colors[point['category']].slice(-6)}.png`,\r\n                            scaledSize: {\r\n                              height: 26,\r\n                              width: 21\r\n                            }\r\n                          }\r\n                        }}\r\n                      />\r\n                    ))\r\n                }\r\n              </GoogleMap> \r\n            : \"\"}\r\n          </div>\r\n\r\n          {tabIndex === 0 &&\r\n            <Form style={{ margin: \"2rem 0.25rem\" }} onSubmit={e => { e.preventDefault(); }}>\r\n\r\n              <Row form>\r\n                <Col md={6}>\r\n                  <FormGroup>\r\n                    <Label for=\"latitude\">Latitude</Label>\r\n                    <Input id=\"latitude\" placeholder=\"ex: -7.43933\" value={formData.nrlatitude} onChange={handleChange(\"nrlatitude\")} />\r\n                  </FormGroup>\r\n                </Col>\r\n\r\n                <Col md={6}>\r\n                  <FormGroup>\r\n                    <Label for=\"longitude\">Longitude</Label>\r\n                    <Input id=\"longitude\" placeholder=\"ex: -34.9136\" value={formData.nrlongitude} onChange={handleChange(\"nrlongitude\")} />\r\n                  </FormGroup>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row form>\r\n                <Col md={4}>\r\n                  <FormGroup>\r\n                    <Label for=\"descricao\">Nome do Local de Registro</Label>\r\n                    <Input id=\"descricao\" placeholder=\"ex: BR 101 KM 109+900\" value={formData.name} onChange={e => setFormData({ ...formData, \"name\": e.target.value })} />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <FormGroup>\r\n                    <Label for=\"descricao\">Descrição</Label>\r\n                    <Input id=\"descricao\" placeholder=\"Descrição/Ponto de Referência\" value={formData.description} onChange={e => setFormData({ ...formData, \"description\": e.target.value })} />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md={2} style={{ justifyContent: \"center\", display: \"flex\" }}>\r\n                  <FormGroup>\r\n                    <Label for=\"selectCategoria\">Categoria </Label>\r\n                    <Input\r\n                      type=\"select\"\r\n                      name=\"selectt\"\r\n                      id=\"selectCategoria\"\r\n                      value={formData.category}\r\n                      onChange={e => setFormData({ ...formData, \"category\": e.target.value })}\r\n                    >\r\n                      <option>Selecione</option>\r\n                      <option value=\"DNIT\">DNIT</option>\r\n                      <option value=\"Equipamento PRF\">Equipamento PRF</option>\r\n                      <option value=\"Sugestões\">Sugestões</option>\r\n                      <option value=\"Pontos Estado\">Pontos Estado</option>\r\n\r\n                    </Input>\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md={2}>\r\n                  <FormGroup>\r\n                    <Label for=\"selectStatus\">Status </Label>\r\n                    <Input\r\n                      type=\"select\"\r\n                      name=\"selectStatuss\"\r\n                      id=\"selectStatus\"\r\n                      value={formData.status}\r\n                      onChange={e => setFormData({ ...formData, \"status\": e.target.value })}\r\n                    >\r\n                      <option>Selecione</option>\r\n                      <option value=\"ativo\">Ativo</option>\r\n                      <option value=\"inativo\">Inativo</option>\r\n\r\n                    </Input>\r\n                  </FormGroup>\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col>\r\n                  <FormGroup>\r\n                    <Label for=\"exampleSelectMulti\">Município </Label>\r\n                    <Input\r\n                      type=\"select\"\r\n                      name=\"selectMulti\"\r\n                      id=\"exampleSelectMulti\"\r\n                      value={formData.municipio.id}\r\n                      onChange={e => setFormData({ ...formData, \"municipio\": e.target.value })}\r\n                    >\r\n                      <option>Selecione</option>\r\n                      {citiesPB.map((city, index) => {\r\n                        return (\r\n                          <option key={`option-city-${index}`} value={city.id} id={index}>{city.nome}</option>\r\n                        )\r\n                      })}\r\n\r\n                    </Input>\r\n                  </FormGroup>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row>\r\n                <Col style={{ alignItems: 'center', justifyContent: 'center', display: 'flex' }}>\r\n                  <Button color=\"primary\" style={{ width: \"15rem\", marginTop: '2rem' }} onClick={submitForm(\"post\", \"create\")}>Cadastrar</Button>\r\n                </Col>\r\n              </Row>\r\n            </Form>\r\n          }\r\n          {tabIndex === 1 &&\r\n            <>\r\n              <Row>\r\n                <Col style={{ marginTop: '2rem' }}>\r\n                  <TagsInput\r\n                    setQuery={setFilters}\r\n                    columns={{\r\n                      \"Nome\": {\r\n                        display: \"name\",\r\n                        column_type: \"varying\"\r\n                      },\r\n                      \"Descrição\": {\r\n                        field: \"description\",\r\n                        column_type: \"varying\"\r\n                      },\r\n                      \"Latitude\": {\r\n                        field: \"nrlatitude\",\r\n                        column_type: \"float\"\r\n                      },\r\n                      \"Longitude\": {\r\n                        field: \"nrlongitude\",\r\n                        column_type: \"float\"\r\n                      },\r\n                      \"Categoria\": {\r\n                        field: \"category\",\r\n                        column_type: \"varying\"\r\n                      }\r\n                    }}\r\n                  />\r\n                  <SelectableTable data={camerasData} state={[pointsData, pointClick]} pageSize={5} />\r\n                </Col>\r\n              </Row>\r\n              <div className=\"deleteContainer\">\r\n                <Row>\r\n                  <Col style={{ marginTop: '2rem' }}>\r\n                    <ul>\r\n                      {pointsData.map((point, index) => {\r\n                        if (point)\r\n                          return <li key={index}>{camerasData[index]['name']}</li>\r\n                        else\r\n                          return null\r\n                      })}\r\n                    </ul>\r\n                  </Col>\r\n                </Row>\r\n\r\n                <Row style={{ marginTop: \"2rem\" }}>\r\n                  <Col style={{ alignItems: 'center', justifyContent: 'center', display: 'flex' }} >\r\n                    <Button color=\"primary\" disabled={!pointsData.filter(point => point).length} onClick={toggleModal(modal, setModal)}>Confirmar Exclusão</Button>\r\n                    {pointsData.filter(point => point).length === 1 && <Button color=\"primary\" style={{ marginLeft: '1rem' }} onClick={toggleModal(editionModal, setEditionModal)}>Editar</Button>}\r\n                  </Col>\r\n                </Row>\r\n\r\n                <Modal isOpen={modal} toggle={toggleModal(modal, setModal)}>\r\n                  <ModalHeader>Confirmar Ação</ModalHeader>\r\n                  <ModalBody>\r\n                    Deseja realmente excluir as seguintes câmeras:\r\n                    <ul>\r\n                      {pointsData.map((point, index) => {\r\n                        if (point)\r\n                          return <li key={index}>{camerasData[index]['name']}</li>\r\n                        else\r\n                          return null\r\n                      })}\r\n                    </ul>\r\n                  </ModalBody>\r\n                  <ModalFooter>\r\n                    <Button color=\"danger\" onClick={toggleModal(modal, setModal)}>Excluir</Button>{' '}\r\n                    <Button color=\"secondary\" onClick={toggleModal(modal, setModal)}>Cancelar</Button>\r\n                  </ModalFooter>\r\n                </Modal>\r\n\r\n                <Modal isOpen={editionModal} toggle={toggleModal(editionModal, setEditionModal)}>\r\n                  <ModalHeader toggle={toggleModal(editionModal, setEditionModal)}>{formData.name}</ModalHeader>\r\n                  <ModalBody style={{ justifyContent: 'center', alignContent: 'center', display: 'flex' }}>\r\n                    <Form>\r\n                      <FormGroup row>\r\n                        <Label for=\"name\" sm={6}><b>Nome:</b></Label>\r\n                        <Col sm={12}>\r\n                          <Input value={formData.name} onChange={e => setFormData({ ...formData, \"name\": e.target.value })} />\r\n                        </Col>\r\n                      </FormGroup>\r\n\r\n                      <FormGroup row>\r\n                        <Label for=\"description\" sm={6}><b>Descrição do Alerta:</b></Label>\r\n                        <Col sm={12}>\r\n                          <Input type=\"textarea\" value={formData.description} onChange={e => setFormData({ ...formData, \"description\": e.target.value })} />\r\n                        </Col>\r\n                      </FormGroup>\r\n\r\n                      <FormGroup row>\r\n                        <Label for=\"latitude\" sm={12}><b>Coordenadas (Latitude, Longitude):</b></Label>\r\n                        {/* <Col sm={12}>\r\n                          <Input type=\"textarea\" value={toDMS(lat, long)} onChange={e => setLat(e.target.value)} />\r\n                        </Col> */}\r\n                        <Col sm={6}>\r\n                          <Input value={formData.nrlatitude} onChange={e => setFormData({ ...formData, \"nrlatitude\": e.target.value })} />\r\n                        </Col>\r\n                        <Col sm={6}>\r\n                          <Input value={formData.nrlongitude} onChange={e => setFormData({ ...formData, \"nrlongitude\": e.target.value })} />\r\n                        </Col>\r\n                      </FormGroup>\r\n\r\n                      <FormGroup row>\r\n                        <Label for=\"municipio\" sm={12}><b>Município:</b></Label>\r\n                        <Col sm={12}>\r\n                          <Input\r\n                            type=\"select\"\r\n                            name=\"selectMulti\"\r\n                            id=\"exampleSelectMulti\"\r\n                            value={formData.municipio.id}\r\n                            onChange={e => setFormData({ ...formData, \"municipio\": e.target.value })}\r\n                          >\r\n                            {/* <option>Selecione</option> */}\r\n                            {citiesPB.map((city, index) => {\r\n                              return (\r\n                                <option key={`${city.nome}`} value={city.id} id={index}>{city.nome}</option>\r\n                              )\r\n                            })}\r\n\r\n                          </Input>\r\n                        </Col>\r\n                      </FormGroup>\r\n\r\n                      <FormGroup row>\r\n                        <Label for=\"municipio\" sm={12}><b>Categoria e Status:</b></Label>\r\n\r\n                        <Col sm={7}>\r\n                          <Input\r\n                            type=\"select\"\r\n                            name=\"selectt\"\r\n                            id=\"selectCategoria\"\r\n                            value={formData.category}\r\n                            onChange={e => setFormData({ ...formData, \"category\": e.target.value })}\r\n                          >\r\n                            {/* <option>Selecione</option> */}\r\n                            <option value=\"DNIT\">DNIT</option>\r\n                            <option value=\"EQUIPAMENTOS PRF\">Equipamentos PRF</option>\r\n                            <option value=\"SUGESTÕES\">Sugestões</option>\r\n                            <option value=\"Pontos Estado\">Pontos Estado</option>\r\n\r\n                          </Input>\r\n                        </Col>\r\n                        <Col sm={5}>\r\n                          <Input\r\n                            type=\"select\"\r\n                            name=\"status\"\r\n                            id=\"status\"\r\n                            value={formData.status}\r\n                            onChange={e => setFormData({ ...formData, \"status\": e.target.value })}\r\n                          >\r\n                            {/* <option>Selecione</option> */}\r\n                            <option value={true}>Ativado</option>\r\n                            <option value={false}>Desativado</option>\r\n                          </Input>\r\n                        </Col>\r\n                      </FormGroup>\r\n\r\n                      <FormGroup check row style={{ display: 'flex', justifyContent: 'center', marginTop: '2rem' }}>\r\n                        <Col md={16} >\r\n                          <Button onClick={pointIndex >= 0 && submitForm(\"patch\", `update/${camerasData[pointIndex][\"id\"]}`, posPatch)}>Confirmar Edição</Button>\r\n                        </Col>\r\n                      </FormGroup>\r\n                    </Form>\r\n                  </ModalBody>\r\n                </Modal>\r\n              </div>\r\n            </>\r\n          }\r\n        </CardBody>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nCamera.defaultProps = {\r\n  center: {\r\n    lat: -7.254653852199306,\r\n    lng: -36.69661154766497\r\n  },\r\n  zoom: 4\r\n};\r\n"]},"metadata":{},"sourceType":"module"}