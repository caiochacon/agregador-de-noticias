{"ast":null,"code":"import { isEmpty } from \"common/utils/collections\";\nconst NOTIFICATION_STATUS_ENUM = {\n  \"NAO_VISUALIZADA\": 0,\n  \"VISUALIZADA\": 1,\n  \"DELAY\": 2,\n  \"EM_MONITORAMENTO\": 3,\n  \"DESIGNADA\": 4,\n  \"SEM_COMANDO\": 5,\n  \"REALIZADA\": 6,\n  \"HOMOLOGADA\": 7,\n  \"SEM_COMANDO_HOMOLOGADA\": 8,\n  \"EM_MONITORAMENTO_HOMOLOGADO\": 9,\n  \"CONFIRMADO\": 10,\n  \"SUPERVISIONADO\": 11,\n  \"IMPORTED_STATUS_CODE\": 13,\n  \"PAUSADO\": 15,\n  0: \"ALERTA NÃO VISUALIZADO\",\n  1: \"ALERTA VISUALIZADO\",\n  2: \"DELAY DO SISTEMA\",\n  3: \"EM MONITORAMENTO\",\n  4: \"AÇÃO FISCAL DESIGNADA\",\n  5: \"SEM COMANDO FISCAL\",\n  6: \"AÇÃO FISCAL REALIZADA\",\n  7: \"AÇÃO FISCAL HOMOLOGADA\",\n  8: \"SEM COMANDO FISCAL - HOMOLOGADo\",\n  9: \"EM MONITORAMENTO - HOMOLOGADO\",\n  10: \"DECLARADO CIÊNCIA\",\n  11: \"DECLARADO SUPERVISÃO\",\n  15: \"CONFIGURAÇÃO DE ALERTA SUSPENSA\",\n  16: \"CONFIGURAÇÃO DE ALERTA ENCERRADA\"\n};\nexport default NOTIFICATION_STATUS_ENUM;\nexport function isImportedStatus(data) {\n  return data % NOTIFICATION_STATUS_ENUM.IMPORTED_STATUS_CODE === 0;\n}\nexport function getStatusCode(data) {\n  let status = data;\n\n  if (typeof data === 'object') {\n    status = data['fiscal_notification_status'];\n  }\n\n  if (isImportedStatus(status)) {\n    return status / NOTIFICATION_STATUS_ENUM.IMPORTED_STATUS_CODE;\n  } else {\n    return status;\n  }\n}\nexport function getNotificationStatusLabel(data) {\n  if (!data && typeof data !== 'number') {\n    return \"STATUS NÃO IDENTIFICADO\";\n  }\n\n  let status = getStatusCode(data);\n  return NOTIFICATION_STATUS_ENUM[status];\n}\nexport function isChecked(data) {\n  // ESTE  CASO É DIFERENTE DOS DEMAIS. SE O VALOR ESTIVER NULO, QUER DIZER QUE NÃO FOI DADO CIÊNCIA A NOTIFICAÇÃO. \n  if (!data) {\n    return false;\n  }\n\n  if (typeof data === 'object') {\n    return data['fiscal_notification_awareness_date'] ? true : false;\n  }\n}\nexport function isHomologated(data) {\n  if (!data && typeof data !== 'number') {\n    return null;\n  }\n\n  let status = getStatusCode(data);\n  return getHomologatedStatusCodes().find(element => element === status);\n}\nexport function isFiscalActionDone(data) {\n  if (!data && typeof data !== 'number') {\n    return null;\n  }\n\n  let status = getStatusCode(data);\n  return status === NOTIFICATION_STATUS_ENUM.REALIZADA;\n}\nexport function isTreated(data) {\n  if (!data && typeof data !== 'number') {\n    return null;\n  }\n\n  let status = getStatusCode(data);\n  return status >= NOTIFICATION_STATUS_ENUM.DESIGNADA;\n}\nexport function isDesignated(data) {\n  if (!data && typeof data !== 'number') {\n    return null;\n  }\n\n  let status = getStatusCode(data);\n  return status === NOTIFICATION_STATUS_ENUM.DESIGNADA;\n}\nexport function isHomologationPending(data) {\n  if (!data && typeof data !== 'number') {\n    return null;\n  }\n\n  let status = getStatusCode(data);\n  return status === NOTIFICATION_STATUS_ENUM.REALIZADA || status === NOTIFICATION_STATUS_ENUM.SEM_COMANDO;\n}\nexport function isAwarenessPending(data) {\n  if (typeof data !== 'object') {\n    return null;\n  }\n\n  let awareness_user = data['fiscal_notification_awareness_auditor'];\n  let awareness_timestamp = data['fiscal_notification_awareness_date'];\n  return !isEmpty(awareness_user) && isEmpty(awareness_timestamp);\n}\nexport function isUnviewed(data) {\n  if (!data && typeof data !== 'number') {\n    return null;\n  }\n\n  let status = getStatusCode(data);\n  return status === NOTIFICATION_STATUS_ENUM.NAO_VISUALIZADA;\n}\nexport function getDesignatedStatusCodes() {\n  return [NOTIFICATION_STATUS_ENUM.DESIGNADA, NOTIFICATION_STATUS_ENUM.DESIGNADA * NOTIFICATION_STATUS_ENUM.IMPORTED_STATUS_CODE];\n}\nexport function getActionFiscalDoneStatusCodes() {\n  return [NOTIFICATION_STATUS_ENUM.REALIZADA, NOTIFICATION_STATUS_ENUM.REALIZADA * NOTIFICATION_STATUS_ENUM.IMPORTED_STATUS_CODE];\n}\nexport function getHomologationPendingStatusCodes() {\n  return [NOTIFICATION_STATUS_ENUM.REALIZADA, NOTIFICATION_STATUS_ENUM.REALIZADA * NOTIFICATION_STATUS_ENUM.IMPORTED_STATUS_CODE, NOTIFICATION_STATUS_ENUM.SEM_COMANDO];\n}\nexport function getHomologatedStatusCodes() {\n  //return [NOTIFICATION_STATUS_ENUM.HOMOLOGADA, NOTIFICATION_STATUS_ENUM.HOMOLOGADA * NOTIFICATION_STATUS_ENUM.IMPORTED_STATUS_CODE, NOTIFICATION_STATUS_ENUM.SEM_COMANDO_HOMOLOGADA, NOTIFICATION_STATUS_ENUM.SEM_COMANDO_HOMOLOGADA * NOTIFICATION_STATUS_ENUM.IMPORTED_STATUS_CODE]\n  return [NOTIFICATION_STATUS_ENUM.HOMOLOGADA, NOTIFICATION_STATUS_ENUM.HOMOLOGADA * NOTIFICATION_STATUS_ENUM.IMPORTED_STATUS_CODE];\n}","map":{"version":3,"sources":["C:/aria/cicc-app/front-end/src/common/enumerators/NotificationStatus.js"],"names":["isEmpty","NOTIFICATION_STATUS_ENUM","isImportedStatus","data","IMPORTED_STATUS_CODE","getStatusCode","status","getNotificationStatusLabel","isChecked","isHomologated","getHomologatedStatusCodes","find","element","isFiscalActionDone","REALIZADA","isTreated","DESIGNADA","isDesignated","isHomologationPending","SEM_COMANDO","isAwarenessPending","awareness_user","awareness_timestamp","isUnviewed","NAO_VISUALIZADA","getDesignatedStatusCodes","getActionFiscalDoneStatusCodes","getHomologationPendingStatusCodes","HOMOLOGADA"],"mappings":"AAAA,SAASA,OAAT,QAAwB,0BAAxB;AAEA,MAAMC,wBAAwB,GAAG;AAC7B,qBAAmB,CADU;AAE7B,iBAAe,CAFc;AAG7B,WAAS,CAHoB;AAI7B,sBAAqB,CAJQ;AAK7B,eAAa,CALgB;AAM7B,iBAAe,CANc;AAO7B,eAAa,CAPgB;AAQ7B,gBAAc,CARe;AAS7B,4BAA0B,CATG;AAU7B,iCAAgC,CAVH;AAW7B,gBAAc,EAXe;AAY7B,oBAAkB,EAZW;AAa7B,0BAAyB,EAbI;AAc7B,aAAW,EAdkB;AAiB7B,KAAG,wBAjB0B;AAkB7B,KAAG,oBAlB0B;AAmB7B,KAAG,kBAnB0B;AAoB7B,KAAG,kBApB0B;AAqB7B,KAAG,uBArB0B;AAsB7B,KAAG,oBAtB0B;AAuB7B,KAAG,uBAvB0B;AAwB7B,KAAG,wBAxB0B;AAyB7B,KAAG,iCAzB0B;AA0B7B,KAAG,+BA1B0B;AA2B7B,MAAI,mBA3ByB;AA4B7B,MAAI,sBA5ByB;AA8B7B,MAAI,iCA9ByB;AA+B7B,MAAI;AA/ByB,CAAjC;AAmCE,eAAeA,wBAAf;AAGA,OAAO,SAASC,gBAAT,CAA0BC,IAA1B,EAA+B;AACpC,SAASA,IAAI,GAAGF,wBAAwB,CAACG,oBAAhC,KAAyD,CAAlE;AACD;AAED,OAAO,SAASC,aAAT,CAAuBF,IAAvB,EAA4B;AACjC,MAAIG,MAAM,GAAGH,IAAb;;AACA,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA+B;AAC7BG,IAAAA,MAAM,GAAIH,IAAI,CAAC,4BAAD,CAAd;AACD;;AAED,MAAID,gBAAgB,CAACI,MAAD,CAApB,EAA8B;AAC5B,WAAQA,MAAM,GAAGL,wBAAwB,CAACG,oBAA1C;AACD,GAFD,MAEO;AACL,WAAQE,MAAR;AACD;AAEF;AAED,OAAO,SAASC,0BAAT,CAAoCJ,IAApC,EAAyC;AAE9C,MAAI,CAACA,IAAD,IAAS,OAAOA,IAAP,KAAgB,QAA7B,EAAwC;AACtC,WAAO,yBAAP;AACD;;AAED,MAAIG,MAAM,GAAGD,aAAa,CAACF,IAAD,CAA1B;AAEA,SAAOF,wBAAwB,CAACK,MAAD,CAA/B;AAED;AAED,OAAO,SAASE,SAAT,CAAmBL,IAAnB,EAAwB;AAC7B;AACA,MAAI,CAACA,IAAL,EAAW;AACT,WAAO,KAAP;AACD;;AAED,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA+B;AAC7B,WAAQA,IAAI,CAAC,oCAAD,CAAJ,GAA6C,IAA7C,GAAoD,KAA5D;AACD;AACF;AAED,OAAO,SAASM,aAAT,CAAuBN,IAAvB,EAA4B;AACjC,MAAI,CAACA,IAAD,IAAS,OAAOA,IAAP,KAAgB,QAA7B,EAAuC;AACrC,WAAO,IAAP;AACD;;AAED,MAAIG,MAAM,GAAGD,aAAa,CAACF,IAAD,CAA1B;AAEA,SAAOO,yBAAyB,GAAGC,IAA5B,CAAkCC,OAAD,IAAaA,OAAO,KAAKN,MAA1D,CAAP;AACD;AAED,OAAO,SAASO,kBAAT,CAA4BV,IAA5B,EAAiC;AACtC,MAAI,CAACA,IAAD,IAAS,OAAOA,IAAP,KAAgB,QAA7B,EAAuC;AACrC,WAAO,IAAP;AACD;;AAED,MAAIG,MAAM,GAAGD,aAAa,CAACF,IAAD,CAA1B;AAEA,SAAOG,MAAM,KAAKL,wBAAwB,CAACa,SAA3C;AACD;AAED,OAAO,SAASC,SAAT,CAAmBZ,IAAnB,EAAwB;AAC7B,MAAI,CAACA,IAAD,IAAS,OAAOA,IAAP,KAAgB,QAA7B,EAAuC;AACrC,WAAO,IAAP;AACD;;AAED,MAAIG,MAAM,GAAGD,aAAa,CAACF,IAAD,CAA1B;AACA,SAAOG,MAAM,IAAIL,wBAAwB,CAACe,SAA1C;AAED;AAGD,OAAO,SAASC,YAAT,CAAsBd,IAAtB,EAA2B;AAChC,MAAI,CAACA,IAAD,IAAS,OAAOA,IAAP,KAAgB,QAA7B,EAAuC;AACrC,WAAO,IAAP;AACD;;AAED,MAAIG,MAAM,GAAGD,aAAa,CAACF,IAAD,CAA1B;AACA,SAAOG,MAAM,KAAKL,wBAAwB,CAACe,SAA3C;AAED;AAED,OAAO,SAASE,qBAAT,CAA+Bf,IAA/B,EAAoC;AACzC,MAAI,CAACA,IAAD,IAAS,OAAOA,IAAP,KAAgB,QAA7B,EAAuC;AACrC,WAAO,IAAP;AACD;;AAED,MAAIG,MAAM,GAAGD,aAAa,CAACF,IAAD,CAA1B;AACA,SAAOG,MAAM,KAAKL,wBAAwB,CAACa,SAApC,IAAiDR,MAAM,KAAKL,wBAAwB,CAACkB,WAA5F;AAED;AAGD,OAAO,SAASC,kBAAT,CAA4BjB,IAA5B,EAAiC;AAEtC,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA+B;AAC7B,WAAQ,IAAR;AACD;;AAED,MAAIkB,cAAc,GAAGlB,IAAI,CAAC,uCAAD,CAAzB;AACA,MAAImB,mBAAmB,GAAGnB,IAAI,CAAC,oCAAD,CAA9B;AAGA,SAAO,CAACH,OAAO,CAACqB,cAAD,CAAR,IAA4BrB,OAAO,CAACsB,mBAAD,CAA1C;AAED;AAGD,OAAO,SAASC,UAAT,CAAoBpB,IAApB,EAAyB;AAE9B,MAAI,CAACA,IAAD,IAAS,OAAOA,IAAP,KAAgB,QAA7B,EAAuC;AACrC,WAAO,IAAP;AACD;;AAED,MAAIG,MAAM,GAAGD,aAAa,CAACF,IAAD,CAA1B;AAEA,SAAOG,MAAM,KAAKL,wBAAwB,CAACuB,eAA3C;AACD;AAGD,OAAO,SAASC,wBAAT,GAAmC;AACxC,SAAO,CAACxB,wBAAwB,CAACe,SAA1B,EAAqCf,wBAAwB,CAACe,SAAzB,GAAqCf,wBAAwB,CAACG,oBAAnG,CAAP;AACD;AAED,OAAO,SAASsB,8BAAT,GAAyC;AAC9C,SAAO,CAACzB,wBAAwB,CAACa,SAA1B,EAAqCb,wBAAwB,CAACa,SAAzB,GAAqCb,wBAAwB,CAACG,oBAAnG,CAAP;AACD;AAED,OAAO,SAASuB,iCAAT,GAA4C;AACjD,SAAO,CAAC1B,wBAAwB,CAACa,SAA1B,EAAqCb,wBAAwB,CAACa,SAAzB,GAAqCb,wBAAwB,CAACG,oBAAnG,EAAyHH,wBAAwB,CAACkB,WAAlJ,CAAP;AACD;AAED,OAAO,SAAST,yBAAT,GAAoC;AACzC;AACA,SAAO,CAACT,wBAAwB,CAAC2B,UAA1B,EAAsC3B,wBAAwB,CAAC2B,UAAzB,GAAsC3B,wBAAwB,CAACG,oBAArG,CAAP;AACD","sourcesContent":["import { isEmpty } from \"common/utils/collections\";\r\n\r\nconst NOTIFICATION_STATUS_ENUM = {\r\n    \"NAO_VISUALIZADA\": 0,\r\n    \"VISUALIZADA\": 1,\r\n    \"DELAY\": 2,\r\n    \"EM_MONITORAMENTO\" : 3,\r\n    \"DESIGNADA\": 4,    \r\n    \"SEM_COMANDO\": 5,\r\n    \"REALIZADA\": 6,    \r\n    \"HOMOLOGADA\": 7,    \r\n    \"SEM_COMANDO_HOMOLOGADA\": 8,\r\n    \"EM_MONITORAMENTO_HOMOLOGADO\" : 9,\r\n    \"CONFIRMADO\": 10,\r\n    \"SUPERVISIONADO\": 11,\r\n    \"IMPORTED_STATUS_CODE\" : 13,\r\n    \"PAUSADO\": 15,\r\n\r\n\r\n    0: \"ALERTA NÃO VISUALIZADO\",\r\n    1: \"ALERTA VISUALIZADO\",\r\n    2: \"DELAY DO SISTEMA\",\r\n    3: \"EM MONITORAMENTO\",\r\n    4: \"AÇÃO FISCAL DESIGNADA\",    \r\n    5: \"SEM COMANDO FISCAL\",    \r\n    6: \"AÇÃO FISCAL REALIZADA\",\r\n    7: \"AÇÃO FISCAL HOMOLOGADA\",    \r\n    8: \"SEM COMANDO FISCAL - HOMOLOGADo\",    \r\n    9: \"EM MONITORAMENTO - HOMOLOGADO\",\r\n    10: \"DECLARADO CIÊNCIA\",    \r\n    11: \"DECLARADO SUPERVISÃO\",\r\n    \r\n    15: \"CONFIGURAÇÃO DE ALERTA SUSPENSA\",\r\n    16: \"CONFIGURAÇÃO DE ALERTA ENCERRADA\",\r\n    \r\n  }\r\n\r\n  export default NOTIFICATION_STATUS_ENUM;\r\n\r\n\r\n  export function isImportedStatus(data){\r\n    return  (data % NOTIFICATION_STATUS_ENUM.IMPORTED_STATUS_CODE === 0) \r\n  }\r\n\r\n  export function getStatusCode(data){\r\n    let status = data\r\n    if (typeof data === 'object' ) {\r\n      status =  data['fiscal_notification_status'] \r\n    }\r\n\r\n    if (isImportedStatus(status)) {\r\n      return  status / NOTIFICATION_STATUS_ENUM.IMPORTED_STATUS_CODE\r\n    } else {\r\n      return  status\r\n    }\r\n    \r\n  }\r\n\r\n  export function getNotificationStatusLabel(data){\r\n\r\n    if (!data && typeof data !== 'number' ) {\r\n      return \"STATUS NÃO IDENTIFICADO\"\r\n    }\r\n    \r\n    let status = getStatusCode(data)\r\n\r\n    return NOTIFICATION_STATUS_ENUM[status]\r\n\r\n  }\r\n\r\n  export function isChecked(data){\r\n    // ESTE  CASO É DIFERENTE DOS DEMAIS. SE O VALOR ESTIVER NULO, QUER DIZER QUE NÃO FOI DADO CIÊNCIA A NOTIFICAÇÃO. \r\n    if (!data) {\r\n      return false\r\n    }\r\n\r\n    if (typeof data === 'object' ) {\r\n      return  data['fiscal_notification_awareness_date'] ? true : false\r\n    }\r\n  }\r\n\r\n  export function isHomologated(data){\r\n    if (!data && typeof data !== 'number') {\r\n      return null\r\n    }\r\n\r\n    let status = getStatusCode(data)\r\n    \r\n    return getHomologatedStatusCodes().find((element) => element === status);\r\n  }\r\n\r\n  export function isFiscalActionDone(data){\r\n    if (!data && typeof data !== 'number') {\r\n      return null\r\n    }\r\n\r\n    let status = getStatusCode(data)\r\n    \r\n    return status === NOTIFICATION_STATUS_ENUM.REALIZADA\r\n  }\r\n\r\n  export function isTreated(data){\r\n    if (!data && typeof data !== 'number') {\r\n      return null\r\n    }\r\n\r\n    let status = getStatusCode(data)\r\n    return status >= NOTIFICATION_STATUS_ENUM.DESIGNADA\r\n\r\n  }\r\n\r\n\r\n  export function isDesignated(data){\r\n    if (!data && typeof data !== 'number') {\r\n      return null\r\n    }\r\n\r\n    let status = getStatusCode(data)\r\n    return status === NOTIFICATION_STATUS_ENUM.DESIGNADA\r\n\r\n  }\r\n\r\n  export function isHomologationPending(data){\r\n    if (!data && typeof data !== 'number') {\r\n      return null\r\n    }\r\n\r\n    let status = getStatusCode(data)\r\n    return status === NOTIFICATION_STATUS_ENUM.REALIZADA || status === NOTIFICATION_STATUS_ENUM.SEM_COMANDO\r\n\r\n  }\r\n\r\n\r\n  export function isAwarenessPending(data){\r\n    \r\n    if (typeof data !== 'object' ) {\r\n      return  null\r\n    }\r\n\r\n    let awareness_user = data['fiscal_notification_awareness_auditor']\r\n    let awareness_timestamp = data['fiscal_notification_awareness_date']\r\n\r\n    \r\n    return !isEmpty(awareness_user) && isEmpty(awareness_timestamp)\r\n\r\n  }\r\n\r\n\r\n  export function isUnviewed(data){\r\n\r\n    if (!data && typeof data !== 'number') {\r\n      return null\r\n    }\r\n\r\n    let status = getStatusCode(data)\r\n    \r\n    return status === NOTIFICATION_STATUS_ENUM.NAO_VISUALIZADA\r\n  }\r\n\r\n\r\n  export function getDesignatedStatusCodes(){\r\n    return [NOTIFICATION_STATUS_ENUM.DESIGNADA, NOTIFICATION_STATUS_ENUM.DESIGNADA * NOTIFICATION_STATUS_ENUM.IMPORTED_STATUS_CODE]\r\n  }\r\n\r\n  export function getActionFiscalDoneStatusCodes(){\r\n    return [NOTIFICATION_STATUS_ENUM.REALIZADA, NOTIFICATION_STATUS_ENUM.REALIZADA * NOTIFICATION_STATUS_ENUM.IMPORTED_STATUS_CODE]\r\n  }\r\n\r\n  export function getHomologationPendingStatusCodes(){\r\n    return [NOTIFICATION_STATUS_ENUM.REALIZADA, NOTIFICATION_STATUS_ENUM.REALIZADA * NOTIFICATION_STATUS_ENUM.IMPORTED_STATUS_CODE, NOTIFICATION_STATUS_ENUM.SEM_COMANDO]\r\n  }\r\n\r\n  export function getHomologatedStatusCodes(){\r\n    //return [NOTIFICATION_STATUS_ENUM.HOMOLOGADA, NOTIFICATION_STATUS_ENUM.HOMOLOGADA * NOTIFICATION_STATUS_ENUM.IMPORTED_STATUS_CODE, NOTIFICATION_STATUS_ENUM.SEM_COMANDO_HOMOLOGADA, NOTIFICATION_STATUS_ENUM.SEM_COMANDO_HOMOLOGADA * NOTIFICATION_STATUS_ENUM.IMPORTED_STATUS_CODE]\r\n    return [NOTIFICATION_STATUS_ENUM.HOMOLOGADA, NOTIFICATION_STATUS_ENUM.HOMOLOGADA * NOTIFICATION_STATUS_ENUM.IMPORTED_STATUS_CODE]\r\n  }\r\n\r\n  \r\n  \r\n  "]},"metadata":{},"sourceType":"module"}