{"ast":null,"code":"var _jsxFileName = \"C:\\\\aria\\\\cicc-app\\\\front-end\\\\src\\\\components\\\\bell\\\\NotificationBell.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Form, FormGroup, Label, ListGroup, ListGroupItem, // Badge,\nDropdown, DropdownToggle, DropdownMenu, Modal, ModalBody, ModalHeader, Col } from 'reactstrap';\nimport { RiNotification2Line } from 'react-icons/ri';\nimport { WarningsContext } from 'context/WarningsContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function NotificationBell() {\n  _s();\n\n  const {\n    warnings,\n    changeVisto\n  } = React.useContext(WarningsContext);\n  const [warningIndex, setWarningIndex] = React.useState([]);\n  const [modal, setModal] = React.useState(false);\n  const [notificationList, setNotificationList] = React.useState(false);\n\n  const toggleModal = () => setModal(!modal);\n\n  const toggleNotification = () => setNotificationList(prevState => !prevState);\n\n  React.useEffect(() => {\n    if (!notificationList) {\n      changeVisto();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [notificationList]);\n  const ONLY_UNSEEN_WARNINGS = warnings.filter(warning => {\n    return !warning.visto;\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Dropdown, {\n      isOpen: notificationList,\n      toggle: toggleNotification,\n      nav: true,\n      children: [/*#__PURE__*/_jsxDEV(DropdownToggle, {\n        nav: true,\n        onClick: e => {\n          e.preventDefault();\n        },\n        \"aria-expanded\": notificationList,\n        children: [/*#__PURE__*/_jsxDEV(RiNotification2Line, {\n          style: {\n            fontSize: '20px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontWeight: 'bold',\n            position: 'absolute',\n            top: '40%'\n          },\n          children: ONLY_UNSEEN_WARNINGS.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n        className: \"dropdown-navbar\",\n        right: true,\n        tag: \"ul\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            maxHeight: '300px',\n            minHeight: '100px',\n            width: '250px',\n            overflowY: 'auto'\n          },\n          children: ONLY_UNSEEN_WARNINGS.length > 0 ? /*#__PURE__*/_jsxDEV(ListGroup, {\n            className: \"notification-list\",\n            children: ONLY_UNSEEN_WARNINGS.map((warning, i) => {\n              return /*#__PURE__*/_jsxDEV(ListGroupItem, {\n                onClick: () => {\n                  setWarningIndex(i);\n                  setModal(!modal);\n                },\n                className: \"justify-content-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: warning['nome']\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 27\n                }, this), new Date(warning['evento_infevento_dhregpassagem']).toLocaleString('pt-BR')]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 25\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 'small',\n              color: '#555555',\n              textAlign: 'center',\n              position: 'absolute',\n              top: \"30%\",\n              left: \"15%\"\n            },\n            children: \"N\\xE3o houve alertas registrados!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: modal,\n      toggle: toggleModal,\n      children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n        toggle: toggleModal,\n        children: \"Informa\\xE7\\xF5es do Alerta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n        style: {\n          justifyContent: 'center',\n          alignContent: 'center',\n          display: 'flex'\n        },\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          style: {\n            padding: '1.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n            row: true,\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              for: \"exampleEmail\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Nome:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 12,\n              children: /*#__PURE__*/_jsxDEV(Label, {\n                children: modal && warnings[warningIndex]['nome']\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            row: true,\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              for: \"exampleEmail\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Data:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 12,\n              children: /*#__PURE__*/_jsxDEV(Label, {\n                children: modal && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: new Date(warnings[warningIndex]['evento_infevento_dhregpassagem']).toLocaleString('pt-BR')\n                }, void 0, false)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            row: true,\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              for: \"exampleEmail\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Descri\\xE7\\xE3o do Alerta:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 12,\n              children: /*#__PURE__*/_jsxDEV(Label, {\n                children: modal && warnings[warningIndex]['descricao']\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            row: true,\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              for: \"exampleEmail\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"A\\xE7\\xF5es:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 12,\n              children: /*#__PURE__*/_jsxDEV(Label, {\n                children: modal && warnings[warningIndex]['procedimentos']\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            row: true,\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              for: \"exampleEmail\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Chave MDF-e:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 12,\n              children: /*#__PURE__*/_jsxDEV(Label, {\n                children: modal && warnings[warningIndex]['protmdfe_infprot_chmdfe']\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(NotificationBell, \"Ahe0XYNk/SqdfFmIWXkOzQYsYlI=\");\n\n_c = NotificationBell;\n\nvar _c;\n\n$RefreshReg$(_c, \"NotificationBell\");","map":{"version":3,"sources":["C:/aria/cicc-app/front-end/src/components/bell/NotificationBell.js"],"names":["React","Form","FormGroup","Label","ListGroup","ListGroupItem","Dropdown","DropdownToggle","DropdownMenu","Modal","ModalBody","ModalHeader","Col","RiNotification2Line","WarningsContext","NotificationBell","warnings","changeVisto","useContext","warningIndex","setWarningIndex","useState","modal","setModal","notificationList","setNotificationList","toggleModal","toggleNotification","prevState","useEffect","ONLY_UNSEEN_WARNINGS","filter","warning","visto","e","preventDefault","fontSize","fontWeight","position","top","length","maxHeight","minHeight","width","overflowY","map","i","Date","toLocaleString","color","textAlign","left","justifyContent","alignContent","display","padding"],"mappings":"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","sourcesContent":["\r\nimport React from 'react';\r\nimport {\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n  ListGroup,\r\n  ListGroupItem,\r\n  // Badge,\r\n  Dropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  Modal,\r\n  ModalBody,\r\n  ModalHeader,\r\n  Col\r\n} from 'reactstrap';\r\nimport { RiNotification2Line } from 'react-icons/ri';\r\nimport { WarningsContext } from 'context/WarningsContext';\r\n\r\nexport default function NotificationBell() {\r\n  const {warnings, changeVisto} = React.useContext(WarningsContext)\r\n  const [warningIndex, setWarningIndex] = React.useState([])\r\n  const [modal, setModal] = React.useState(false);\r\n  const [notificationList, setNotificationList] = React.useState(false)\r\n  const toggleModal = () => setModal(!modal)\r\n  const toggleNotification = () => setNotificationList((prevState) => !prevState)\r\n\r\n  React.useEffect(() => {\r\n\r\n    if(!notificationList){\r\n      changeVisto()\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [notificationList])\r\n\r\n  const ONLY_UNSEEN_WARNINGS = warnings.filter(warning => {\r\n    return !warning.visto\r\n  })\r\n\r\n  return (\r\n    <>\r\n      <Dropdown  isOpen={notificationList} toggle={toggleNotification} nav>\r\n        <DropdownToggle\r\n          nav\r\n          onClick={(e) => {e.preventDefault()}}\r\n          aria-expanded={notificationList}\r\n        >\r\n          <RiNotification2Line style={{ fontSize: '20px' }} />\r\n          <span style={{ fontWeight: 'bold', position: 'absolute', top: '40%' }}>\r\n            {ONLY_UNSEEN_WARNINGS.length}\r\n          </span>\r\n\r\n          {/* <Badge style={{alignSelf:'bottom'}} pill>14</Badge> */}\r\n        </DropdownToggle>\r\n\r\n        <DropdownMenu className=\"dropdown-navbar\" right tag=\"ul\">\r\n          <div style={{ maxHeight: '300px', minHeight: '100px', width: '250px', overflowY: 'auto' }}>\r\n            {\r\n               ONLY_UNSEEN_WARNINGS.length > 0 ?\r\n                <ListGroup className=\"notification-list\">\r\n                  {\r\n                    ONLY_UNSEEN_WARNINGS.map((warning, i) => {\r\n                      return (\r\n                        <ListGroupItem \r\n                          key={i}\r\n                          onClick={()=>{setWarningIndex(i);setModal(!modal)}}\r\n                          className=\"justify-content-between\"\r\n                        >\r\n                          <b>{warning['nome']}</b> \r\n                          <br/>\r\n                          {new Date(warning['evento_infevento_dhregpassagem']).toLocaleString('pt-BR')}\r\n                        </ListGroupItem>\r\n                      )\r\n                    })\r\n                  }\r\n                </ListGroup>\r\n                :\r\n                <div style={{ fontSize: 'small', color: '#555555', textAlign: 'center', position: 'absolute', top: \"30%\", left: \"15%\" }}>\r\n                  Não houve alertas registrados!\r\n                </div>\r\n            }\r\n          </div>\r\n        </DropdownMenu>\r\n      </Dropdown>\r\n\r\n      <Modal isOpen={modal} toggle={toggleModal}>\r\n        <ModalHeader toggle={toggleModal}>Informações do Alerta</ModalHeader>\r\n        <ModalBody style={{ justifyContent: 'center', alignContent: 'center', display: 'flex' }}>\r\n          <Form style={{padding:'1.5rem'}}>\r\n          <FormGroup row>\r\n              <Label for=\"exampleEmail\"><b>Nome:</b></Label>\r\n              <Col sm={12}>\r\n                <Label>\r\n                  {modal && warnings[warningIndex]['nome']}\r\n                </Label>\r\n              </Col>\r\n            </FormGroup>\r\n\r\n            <FormGroup row>\r\n              <Label for=\"exampleEmail\"><b>Data:</b></Label>\r\n              <Col sm={12}>\r\n                <Label>\r\n                  {modal && <>{new Date(warnings[warningIndex]['evento_infevento_dhregpassagem']).toLocaleString('pt-BR')}</>}\r\n                </Label>\r\n              </Col>\r\n            </FormGroup>\r\n            \r\n            <FormGroup row>\r\n              <Label for=\"exampleEmail\"><b>Descrição do Alerta:</b></Label>\r\n              <Col sm={12}>\r\n                <Label>\r\n                  {modal && warnings[warningIndex]['descricao']}\r\n                </Label>\r\n              </Col>\r\n            </FormGroup>\r\n\r\n            <FormGroup row>\r\n              <Label for=\"exampleEmail\"><b>Ações:</b></Label>\r\n              <Col sm={12}>\r\n                <Label>\r\n                  {modal && warnings[warningIndex]['procedimentos']}\r\n                </Label>\r\n              </Col>\r\n            </FormGroup>\r\n\r\n            <FormGroup row>\r\n              <Label for=\"exampleEmail\"><b>Chave MDF-e:</b></Label>\r\n              <Col sm={12}>\r\n                <Label>\r\n                  {modal && warnings[warningIndex]['protmdfe_infprot_chmdfe']}\r\n                </Label>\r\n              </Col>\r\n            </FormGroup>\r\n\r\n          </Form>\r\n        </ModalBody>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}