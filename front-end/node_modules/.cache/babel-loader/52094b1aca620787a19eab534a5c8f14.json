{"ast":null,"code":"var _jsxFileName = \"C:\\\\aria\\\\cicc-app\\\\front-end\\\\src\\\\views\\\\Traffic\\\\tables\\\\TrafficNoDfeTable.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { ViewsContext } from \"context/ViewsContext\";\nimport TagsInput from \"components/tags/TagsInput\";\nimport Table from \"components/tables/Table\";\nimport { createQueryHttpRequestBody } from \"axios/AxiosUtils\";\nimport Plate from \"components/table-elements/Plate\";\nimport { TrafficTimestamp } from \"components/table-elements/TrafficTimestamp\";\nimport TrafficLastLocations from \"components/table-elements/TrafficLastLocations\";\nimport { EVENT_CREATION_TIMESTAMP } from \"common/model/Event\";\nimport { EVENT_LOCAL } from \"common/model/Event\";\nimport { EVENT_VEHICLE_PLATE } from \"common/model/Event\";\nimport { EVENT_VEHICLE_TYPE } from \"common/model/Event\";\nimport { EVENT_VEHICLE_MODEL } from \"common/model/Event\";\nimport { EVENT_VEHICLE_COLOUR } from \"common/model/Event\";\nimport { EVENT_UF } from \"common/model/Event\";\nimport { createSimpleFilterClause } from \"axios/AxiosUtils\";\nimport { createOrderByClause } from \"axios/AxiosUtils\";\nimport { EVENT_DFE_TYPE } from \"common/model/Event\";\nimport { trafficNoDfeFiltersOptions } from \"../utils/filters\";\nimport { useModalWithData } from \"common/hooks/useModalWithData\";\nimport MODAL_TYPE_ENUM from \"common/enumerators/ModalTypeEnum\";\nimport VehicleModal from \"components/modals/VehicleModal\";\nimport { CHAR } from \"axios/AxiosUtils\";\nimport { EQUAL } from \"axios/AxiosUtils\";\nimport { DESC } from \"axios/AxiosUtils\";\nimport { cloneFilters } from \"axios/AxiosUtils\";\nimport { WITHOUT_DFE } from \"common/model/Event\";\nimport { EVENT_INGESTION_TIMESTAMP } from \"common/model/Event\"; //TODO remover estas referencias a groupsConditons e groupsValues. Isso deve vir do context\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function TrafficNoDfeTable(_ref) {\n  _s();\n\n  let {\n    toggleMapModal\n  } = _ref;\n  const {\n    refreshFlag,\n    withoutDfeTableFilters,\n    setWithoutDfeTableFilters,\n    withoutDfeTableTags,\n    setWithoutDfeTableTags\n  } = React.useContext(ViewsContext);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const {\n    modalData,\n    isModalActive,\n    modalType,\n    toggleModalOn,\n    toggleModalOff\n  } = useModalWithData();\n\n  const createTrafficHttpRequestBody = () => {\n    let filtersClone = cloneFilters(withoutDfeTableFilters);\n    filtersClone.push(createSimpleFilterClause(EVENT_DFE_TYPE, CHAR, EQUAL, WITHOUT_DFE));\n    const orderBy = createOrderByClause(EVENT_INGESTION_TIMESTAMP, DESC);\n    return createQueryHttpRequestBody(filtersClone, orderBy);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TagsInput, {\n      setQuery: setWithoutDfeTableFilters,\n      tagsState: [withoutDfeTableTags, setWithoutDfeTableTags],\n      columns: trafficNoDfeFiltersOptions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      dataUrl: \"/events/read_all\",\n      timeout: 10000,\n      requestBody: createTrafficHttpRequestBody,\n      tags: withoutDfeTableFilters,\n      fillData: true,\n      refresh: refreshFlag,\n      loading: [isLoading, setIsLoading],\n      invalid: [\"null\", undefined, null, \"\", \"-\"],\n      columns: {\n        \"Passagem\": {\n          args: [EVENT_CREATION_TIMESTAMP, EVENT_INGESTION_TIMESTAMP],\n          Func: _ref2 => {\n            let {\n              data\n            } = _ref2;\n            return /*#__PURE__*/_jsxDEV(TrafficTimestamp, {\n              data: data,\n              isTrafficTimestamp: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 33\n            }, this);\n          }\n        },\n        \"Recebimento\": {\n          args: [EVENT_CREATION_TIMESTAMP, EVENT_INGESTION_TIMESTAMP],\n          Func: _ref3 => {\n            let {\n              data\n            } = _ref3;\n            return /*#__PURE__*/_jsxDEV(TrafficTimestamp, {\n              data: data\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 33\n            }, this);\n          }\n        },\n        \"Local\": {\n          args: EVENT_LOCAL,\n          Func: _ref4 => {\n            let {\n              row_data\n            } = _ref4;\n            return /*#__PURE__*/_jsxDEV(TrafficLastLocations, {\n              data: row_data,\n              toggleModal: toggleMapModal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 37\n            }, this);\n          }\n        },\n        \"Uf Disparo\": {\n          args: EVENT_UF,\n          thStyle: {\n            textAlign: 'center'\n          },\n          tdStyle: {\n            textAlign: 'center'\n          }\n        },\n        \"Placa\": {\n          args: EVENT_VEHICLE_PLATE,\n          thStyle: {\n            textAlign: 'center'\n          },\n          tdStyle: {\n            textAlign: 'center'\n          },\n          func: plate => /*#__PURE__*/_jsxDEV(Plate, {\n            plate: plate,\n            toggleModal: toggleModalOn\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 30\n          }, this)\n        },\n        \"Ve√≠culo\": EVENT_VEHICLE_TYPE,\n        \"Modelo\": EVENT_VEHICLE_MODEL,\n        \"Cor\": EVENT_VEHICLE_COLOUR\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }, this), modalType === MODAL_TYPE_ENUM.VEHICLE && /*#__PURE__*/_jsxDEV(VehicleModal, {\n      show: isModalActive,\n      toggle: toggleModalOff,\n      data: modalData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 50\n    }, this)]\n  }, void 0, true);\n}\n\n_s(TrafficNoDfeTable, \"upE/Cw7FctgkNsxpVksteEwKgi4=\", false, function () {\n  return [useModalWithData];\n});\n\n_c = TrafficNoDfeTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"TrafficNoDfeTable\");","map":{"version":3,"sources":["C:/aria/cicc-app/front-end/src/views/Traffic/tables/TrafficNoDfeTable.js"],"names":["React","ViewsContext","TagsInput","Table","createQueryHttpRequestBody","Plate","TrafficTimestamp","TrafficLastLocations","EVENT_CREATION_TIMESTAMP","EVENT_LOCAL","EVENT_VEHICLE_PLATE","EVENT_VEHICLE_TYPE","EVENT_VEHICLE_MODEL","EVENT_VEHICLE_COLOUR","EVENT_UF","createSimpleFilterClause","createOrderByClause","EVENT_DFE_TYPE","trafficNoDfeFiltersOptions","useModalWithData","MODAL_TYPE_ENUM","VehicleModal","CHAR","EQUAL","DESC","cloneFilters","WITHOUT_DFE","EVENT_INGESTION_TIMESTAMP","TrafficNoDfeTable","toggleMapModal","refreshFlag","withoutDfeTableFilters","setWithoutDfeTableFilters","withoutDfeTableTags","setWithoutDfeTableTags","useContext","isLoading","setIsLoading","useState","modalData","isModalActive","modalType","toggleModalOn","toggleModalOff","createTrafficHttpRequestBody","filtersClone","push","orderBy","undefined","args","Func","data","row_data","thStyle","textAlign","tdStyle","func","plate","VEHICLE"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { ViewsContext } from \"context/ViewsContext\";\r\nimport TagsInput from \"components/tags/TagsInput\";\r\nimport Table from \"components/tables/Table\";\r\nimport { createQueryHttpRequestBody } from \"axios/AxiosUtils\";\r\nimport Plate from \"components/table-elements/Plate\";\r\nimport { TrafficTimestamp } from \"components/table-elements/TrafficTimestamp\";\r\nimport TrafficLastLocations from \"components/table-elements/TrafficLastLocations\";\r\nimport { EVENT_CREATION_TIMESTAMP } from \"common/model/Event\";\r\nimport { EVENT_LOCAL } from \"common/model/Event\";\r\nimport { EVENT_VEHICLE_PLATE } from \"common/model/Event\";\r\nimport { EVENT_VEHICLE_TYPE } from \"common/model/Event\";\r\nimport { EVENT_VEHICLE_MODEL } from \"common/model/Event\";\r\nimport { EVENT_VEHICLE_COLOUR } from \"common/model/Event\";\r\nimport { EVENT_UF } from \"common/model/Event\";\r\nimport { createSimpleFilterClause } from \"axios/AxiosUtils\";\r\nimport { createOrderByClause } from \"axios/AxiosUtils\";\r\nimport { EVENT_DFE_TYPE } from \"common/model/Event\";\r\nimport { trafficNoDfeFiltersOptions } from \"../utils/filters\";\r\nimport { useModalWithData } from \"common/hooks/useModalWithData\";\r\nimport MODAL_TYPE_ENUM from \"common/enumerators/ModalTypeEnum\";\r\nimport VehicleModal from \"components/modals/VehicleModal\";\r\nimport { CHAR } from \"axios/AxiosUtils\";\r\nimport { EQUAL } from \"axios/AxiosUtils\";\r\nimport { DESC } from \"axios/AxiosUtils\";\r\nimport { cloneFilters } from \"axios/AxiosUtils\";\r\nimport { WITHOUT_DFE } from \"common/model/Event\";\r\nimport { EVENT_INGESTION_TIMESTAMP } from \"common/model/Event\";\r\n\r\n\r\n//TODO remover estas referencias a groupsConditons e groupsValues. Isso deve vir do context\r\nexport default function TrafficNoDfeTable({toggleMapModal}) {\r\n\r\n\r\n  const { refreshFlag, withoutDfeTableFilters, setWithoutDfeTableFilters,withoutDfeTableTags, setWithoutDfeTableTags } = React.useContext(ViewsContext)\r\n\r\n  const [isLoading, setIsLoading] = React.useState(false)\r\n  const { modalData, isModalActive, modalType, toggleModalOn, toggleModalOff } = useModalWithData()\r\n\r\n\r\n  const createTrafficHttpRequestBody = () => {\r\n    let filtersClone = cloneFilters(withoutDfeTableFilters)\r\n    filtersClone.push(createSimpleFilterClause(EVENT_DFE_TYPE, CHAR, EQUAL, WITHOUT_DFE))\r\n\r\n    const orderBy = createOrderByClause(EVENT_INGESTION_TIMESTAMP, DESC)\r\n    return createQueryHttpRequestBody(filtersClone, orderBy)\r\n  }\r\n\r\n\r\n  return (<>\r\n    <TagsInput\r\n      setQuery={setWithoutDfeTableFilters}\r\n      tagsState={[withoutDfeTableTags, setWithoutDfeTableTags]}\r\n      columns={trafficNoDfeFiltersOptions}\r\n    />\r\n    <Table\r\n      dataUrl=\"/events/read_all\"\r\n      timeout={10000}\r\n      requestBody={createTrafficHttpRequestBody}\r\n      tags={withoutDfeTableFilters}\r\n      fillData\r\n      refresh={refreshFlag}\r\n      loading={[isLoading, setIsLoading]}\r\n      invalid={[\"null\", undefined, null, \"\", \"-\"]}\r\n      columns={\r\n        {\r\n          \"Passagem\": {\r\n            args: [EVENT_CREATION_TIMESTAMP, EVENT_INGESTION_TIMESTAMP],\r\n            Func: ({ data }) => <TrafficTimestamp data={data} isTrafficTimestamp={true} />\r\n          },\r\n          \"Recebimento\": {\r\n            args: [EVENT_CREATION_TIMESTAMP, EVENT_INGESTION_TIMESTAMP],\r\n            Func: ({ data }) => <TrafficTimestamp data={data} />\r\n          },\r\n          \"Local\": {\r\n            args: EVENT_LOCAL,\r\n            Func: ({ row_data }) => <TrafficLastLocations data={row_data}  toggleModal={toggleMapModal}/>\r\n          },\r\n          \"Uf Disparo\": {\r\n            args: EVENT_UF,\r\n            thStyle: { textAlign: 'center' },\r\n            tdStyle: { textAlign: 'center' },\r\n          },\r\n          \"Placa\": {\r\n            args: EVENT_VEHICLE_PLATE,\r\n            thStyle: { textAlign: 'center' },\r\n            tdStyle: { textAlign: 'center' },\r\n            func: (plate) => <Plate plate={plate} toggleModal={toggleModalOn} />\r\n          },\r\n          \"Ve√≠culo\": EVENT_VEHICLE_TYPE,\r\n          \"Modelo\": EVENT_VEHICLE_MODEL,\r\n          \"Cor\": EVENT_VEHICLE_COLOUR,\r\n        }\r\n      }\r\n    />\r\n       {modalType === MODAL_TYPE_ENUM.VEHICLE && <VehicleModal show={isModalActive} toggle={toggleModalOff} data={modalData} />}\r\n  </>)\r\n}"]},"metadata":{},"sourceType":"module"}