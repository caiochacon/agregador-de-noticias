{"ast":null,"code":"var _jsxFileName = \"C:\\\\aria\\\\cicc-app\\\\front-end\\\\src\\\\views\\\\Companys.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport axios from 'axios';\nimport axiosRetry from 'axios-retry';\nimport { getTimeoutConfig } from \"axios/AxiosUtils\";\nimport { getRetryConfig } from \"axios/AxiosUtils\";\nimport env from 'common/enviroment.js'; //import 'bootstrap/dist/css/bootstrap.css';\n\nimport { RiSearchLine } from 'react-icons/ri';\nimport { Card, CardBody, ListGroup, ListGroupItem, Col, Row, Button, Input, InputGroup, CardHeader, Modal, ModalBody, ModalHeader, FormFeedback } from 'reactstrap';\nimport { NavigationContext } from 'context/NavigationContext';\nimport { getCortexToken } from 'common/SessionUtils.js';\nimport { LetterFilter } from 'common/utils/filters';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function InfoCompanys() {\n  _s();\n\n  const body = {\n    'cortex_token': getCortexToken()\n  };\n  const [modal, setModal] = React.useState(false);\n  const [cnpjConsulta, setcnpjConsulta] = React.useState('');\n  const [dataCompany, setdataCompany] = React.useState([]);\n  const [moreDataCompany, setmoreDataCompany] = React.useState([]);\n  const [invalidText, setinvalidText] = React.useState('');\n  const [isInvalid, setisInvalid] = React.useState(false);\n  const [isData, setisData] = React.useState(false);\n  const {\n    setIsMap\n  } = React.useContext(NavigationContext);\n  const axiosRetryProxy = axios.create(getTimeoutConfig());\n  axiosRetry(axiosRetryProxy, getRetryConfig());\n  React.useEffect(() => {\n    setIsMap(false); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const toggleModal = () => setModal(!modal);\n\n  const titleCase = text => {\n    return text.toLowerCase().split(' ').map(word => {\n      return word[0].toUpperCase() + word.slice(1);\n    }).join(' ');\n  };\n\n  const ChangeKey = nome => {\n    let mudar = [];\n    nome.split('').forEach((letra, index) => {\n      if (nome[index] === \"\".concat(nome[index].toUpperCase())) {\n        mudar.push(nome[index]);\n      }\n    });\n    mudar.forEach(function (letra) {\n      nome = nome.replace(\"\".concat(letra), \" \".concat(letra.toLowerCase()));\n    });\n    return titleCase(nome);\n  };\n\n  const ConsultarEmpresa = () => {\n    if (cnpjConsulta.length > 0) {\n      axiosRetryProxy.post(\"\".concat(env.apiAddress, \"/cortex/company/\").concat(cnpjConsulta), body).then(res => {\n        let data_moreinformation = [];\n        let data_consulta = [];\n        Object.entries(res.data).forEach(_ref => {\n          let [key, value] = _ref;\n\n          if (typeof value === \"object\") {} else {\n            data_consulta.push({\n              'key': ChangeKey(key),\n              'value': value\n            });\n          }\n        });\n        setdataCompany(data_consulta);\n        setmoreDataCompany(data_moreinformation);\n        setisData(true); //console.log('Dados do individuo: ', data)\n\n        setisInvalid(false);\n      }).catch(err => {\n        setinvalidText('Número de CNPJ inválido');\n        setisInvalid(true);\n      });\n    } else {\n      setinvalidText('Digite um número de CNPJ');\n      setisInvalid(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(RiSearchLine, {\n              className: \"footer-icon\",\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this), \" Consulta\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            invalid: isInvalid,\n            type: \"search\",\n            value: cnpjConsulta.replace(/^(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{2})/, \"$1.$2.$3/$4-$5\"),\n            maxLength: \"14\",\n            placeholder: \"Digite o cnpj da empresa\",\n            onChange: e => setcnpjConsulta(e.target.value),\n            onKeyPress: event => LetterFilter(event)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            onClick: ConsultarEmpresa,\n            children: /*#__PURE__*/_jsxDEV(RiSearchLine, {\n              className: \"footer-icon\",\n              size: 15\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), isInvalid && /*#__PURE__*/_jsxDEV(FormFeedback, {\n            children: invalidText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Dados CNPJ\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), isData && /*#__PURE__*/_jsxDEV(CardBody, {\n        children: [/*#__PURE__*/_jsxDEV(ListGroup, {\n          children: dataCompany.map((dados, index) => /*#__PURE__*/_jsxDEV(ListGroupItem, {\n            className: \"justify-content-between\",\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: dados.key\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: dados.value\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"primary\",\n          className: \"btn-md\",\n          onClick: toggleModal,\n          children: \"Mais Informa\\xE7\\xF5es\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          isOpen: modal,\n          toggle: toggleModal,\n          children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n            toggle: toggleModal,\n            children: \"Informa\\xE7\\xF5es Adicionais\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n            style: {\n              justifyContent: 'center',\n              alignContent: 'center',\n              display: 'flex'\n            },\n            children: /*#__PURE__*/_jsxDEV(ListGroup, {\n              children: moreDataCompany.map((dados, index) => /*#__PURE__*/_jsxDEV(ListGroupItem, {\n                className: \"justify-content-between\",\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: dados.key\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 173,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: dados.value\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 21\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 20\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n}\n\n_s(InfoCompanys, \"cSXv747I/ZThfwJiDOHkbFG4Pd8=\");\n\n_c = InfoCompanys;\n\nvar _c;\n\n$RefreshReg$(_c, \"InfoCompanys\");","map":{"version":3,"sources":["C:/aria/cicc-app/front-end/src/views/Companys.js"],"names":["React","axios","axiosRetry","getTimeoutConfig","getRetryConfig","env","RiSearchLine","Card","CardBody","ListGroup","ListGroupItem","Col","Row","Button","Input","InputGroup","CardHeader","Modal","ModalBody","ModalHeader","FormFeedback","NavigationContext","getCortexToken","LetterFilter","InfoCompanys","body","modal","setModal","useState","cnpjConsulta","setcnpjConsulta","dataCompany","setdataCompany","moreDataCompany","setmoreDataCompany","invalidText","setinvalidText","isInvalid","setisInvalid","isData","setisData","setIsMap","useContext","axiosRetryProxy","create","useEffect","toggleModal","titleCase","text","toLowerCase","split","map","word","toUpperCase","slice","join","ChangeKey","nome","mudar","forEach","letra","index","push","replace","ConsultarEmpresa","length","post","apiAddress","then","res","data_moreinformation","data_consulta","Object","entries","data","key","value","catch","err","e","target","event","dados","justifyContent","alignContent","display"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,SAASC,gBAAT,QAAiC,kBAAjC;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,OAAOC,GAAP,MAAgB,sBAAhB,C,CACA;;AACA,SAAQC,YAAR,QAA2B,gBAA3B;AAEA,SACEC,IADF,EAEEC,QAFF,EAGEC,SAHF,EAIEC,aAJF,EAKEC,GALF,EAKOC,GALP,EAMEC,MANF,EAOEC,KAPF,EAOSC,UAPT,EAQEC,UARF,EASEC,KATF,EASSC,SATT,EASoBC,WATpB,EAUEC,YAVF,QAWO,YAXP;AAaA,SAASC,iBAAT,QAAkC,2BAAlC;AACA,SAASC,cAAT,QAA+B,wBAA/B;AACA,SAASC,YAAT,QAA6B,sBAA7B;;AAEA,eAAe,SAASC,YAAT,GAAwB;AAAA;;AAErC,QAAMC,IAAI,GAAG;AACX,oBAAgBH,cAAc;AADnB,GAAb;AAIA,QAAM,CAACI,KAAD,EAAQC,QAAR,IAAoB3B,KAAK,CAAC4B,QAAN,CAAe,KAAf,CAA1B;AACA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkC9B,KAAK,CAAC4B,QAAN,CAAe,EAAf,CAAxC;AACA,QAAM,CAACG,WAAD,EAAcC,cAAd,IAAgChC,KAAK,CAAC4B,QAAN,CAAe,EAAf,CAAtC;AACA,QAAM,CAACK,eAAD,EAAkBC,kBAAlB,IAAwClC,KAAK,CAAC4B,QAAN,CAAe,EAAf,CAA9C;AACA,QAAM,CAACO,WAAD,EAAcC,cAAd,IAAgCpC,KAAK,CAAC4B,QAAN,CAAe,EAAf,CAAtC;AACA,QAAM,CAACS,SAAD,EAAYC,YAAZ,IAA4BtC,KAAK,CAAC4B,QAAN,CAAe,KAAf,CAAlC;AACA,QAAM,CAACW,MAAD,EAASC,SAAT,IAAsBxC,KAAK,CAAC4B,QAAN,CAAe,KAAf,CAA5B;AACA,QAAM;AAACa,IAAAA;AAAD,MAAazC,KAAK,CAAC0C,UAAN,CAAiBrB,iBAAjB,CAAnB;AAEA,QAAMsB,eAAe,GAAG1C,KAAK,CAAC2C,MAAN,CAAazC,gBAAgB,EAA7B,CAAxB;AACAD,EAAAA,UAAU,CAACyC,eAAD,EAAkBvC,cAAc,EAAhC,CAAV;AAEAJ,EAAAA,KAAK,CAAC6C,SAAN,CAAiB,MAAM;AAErBJ,IAAAA,QAAQ,CAAC,KAAD,CAAR,CAFqB,CAIrB;AACD,GALD,EAKG,EALH;;AAOA,QAAMK,WAAW,GAAG,MAAMnB,QAAQ,CAAC,CAACD,KAAF,CAAlC;;AAEA,QAAMqB,SAAS,GAAIC,IAAD,IAAU;AAC1B,WAAOA,IAAI,CAACC,WAAL,GACJC,KADI,CACE,GADF,EAEJC,GAFI,CAECC,IAAD,IAAU;AACb,aAAOA,IAAI,CAAC,CAAD,CAAJ,CAAQC,WAAR,KAAwBD,IAAI,CAACE,KAAL,CAAW,CAAX,CAA/B;AACD,KAJI,EAIFC,IAJE,CAIG,GAJH,CAAP;AAKD,GAND;;AAQA,QAAMC,SAAS,GAAIC,IAAD,IAAU;AAE1B,QAAIC,KAAK,GAAG,EAAZ;AAEAD,IAAAA,IAAI,CAACP,KAAL,CAAW,EAAX,EAAeS,OAAf,CAAwB,CAACC,KAAD,EAAQC,KAAR,KAAkB;AACxC,UAAIJ,IAAI,CAACI,KAAD,CAAJ,eAAmBJ,IAAI,CAACI,KAAD,CAAJ,CAAYR,WAAZ,EAAnB,CAAJ,EAAmD;AACjDK,QAAAA,KAAK,CAACI,IAAN,CAAWL,IAAI,CAACI,KAAD,CAAf;AAED;AACF,KALD;AAOAH,IAAAA,KAAK,CAACC,OAAN,CAAc,UAAUC,KAAV,EAAiB;AAC7BH,MAAAA,IAAI,GAAGA,IAAI,CAACM,OAAL,WAAgBH,KAAhB,cAA6BA,KAAK,CAACX,WAAN,EAA7B,EAAP;AACD,KAFD;AAIA,WAAOF,SAAS,CAACU,IAAD,CAAhB;AAED,GAjBD;;AAmBA,QAAMO,gBAAgB,GAAG,MAAM;AAE7B,QAAInC,YAAY,CAACoC,MAAb,GAAsB,CAA1B,EAA4B;AAC1BtB,MAAAA,eAAe,CAACuB,IAAhB,WAAwB7D,GAAG,CAAC8D,UAA5B,6BAAyDtC,YAAzD,GAAyEJ,IAAzE,EAA+E2C,IAA/E,CAAoFC,GAAG,IAAI;AAEzF,YAAIC,oBAAoB,GAAG,EAA3B;AACA,YAAIC,aAAa,GAAG,EAApB;AAEAC,QAAAA,MAAM,CAACC,OAAP,CAAeJ,GAAG,CAACK,IAAnB,EAAyBf,OAAzB,CAAiC,QAAkB;AAAA,cAAjB,CAACgB,GAAD,EAAMC,KAAN,CAAiB;;AACjD,cAAI,OAAOA,KAAP,KAAiB,QAArB,EAA8B,CAE7B,CAFD,MAGI;AACFL,YAAAA,aAAa,CAACT,IAAd,CAAmB;AACjB,qBAAON,SAAS,CAACmB,GAAD,CADC;AAEjB,uBAASC;AAFQ,aAAnB;AAID;AACF,SAVD;AAYA5C,QAAAA,cAAc,CAACuC,aAAD,CAAd;AACArC,QAAAA,kBAAkB,CAACoC,oBAAD,CAAlB;AACA9B,QAAAA,SAAS,CAAC,IAAD,CAAT,CAnByF,CAoBzF;;AACAF,QAAAA,YAAY,CAAC,KAAD,CAAZ;AAED,OAvBD,EAuBGuC,KAvBH,CAuBSC,GAAG,IAAE;AACZ1C,QAAAA,cAAc,CAAC,yBAAD,CAAd;AACAE,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACD,OA1BD;AA2BD,KA5BD,MA6BI;AACFF,MAAAA,cAAc,CAAC,0BAAD,CAAd;AACAE,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACD;AACF,GAnCD;;AAqCA,sBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA,2BACE,QAAC,IAAD;AAAA,8BACE,QAAC,UAAD;AAAA,gCACE,QAAC,GAAD;AAAA,iCACE,QAAC,GAAD;AAAA,oCACE,QAAC,YAAD;AAAc,cAAA,SAAS,EAAC,aAAxB;AAAsC,cAAA,IAAI,EAAE;AAA5C;AAAA;AAAA;AAAA;AAAA,oBADF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAME,QAAC,UAAD;AAAA,kCACE,QAAC,KAAD;AAAO,YAAA,OAAO,EAAED,SAAhB;AACE,YAAA,IAAI,EAAC,QADP;AAEE,YAAA,KAAK,EAAER,YAAY,CAACkC,OAAb,CAAqB,sCAArB,EAA6D,gBAA7D,CAFT;AAGE,YAAA,SAAS,EAAC,IAHZ;AAIE,YAAA,WAAW,EAAC,0BAJd;AAKE,YAAA,QAAQ,EAAEgB,CAAC,IAAIjD,eAAe,CAACiD,CAAC,CAACC,MAAF,CAASJ,KAAV,CALhC;AAME,YAAA,UAAU,EAAEK,KAAK,IAAI1D,YAAY,CAAC0D,KAAD;AANnC;AAAA;AAAA;AAAA;AAAA,kBADF,eASE,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,SAAd;AAAwB,YAAA,OAAO,EAAEjB,gBAAjC;AAAA,mCACE,QAAC,YAAD;AAAc,cAAA,SAAS,EAAC,aAAxB;AAAsC,cAAA,IAAI,EAAE;AAA5C;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBATF,EAYG3B,SAAS,iBAAI,QAAC,YAAD;AAAA,sBACXF;AADW;AAAA;AAAA;AAAA;AAAA,kBAZhB;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF,eAsBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAtBJ,eAuBE;AAAA;AAAA;AAAA;AAAA,gBAvBF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EA0BGI,MAAM,iBAAI,QAAC,QAAD;AAAA,gCACT,QAAC,SAAD;AAAA,oBACGR,WAAW,CAACoB,GAAZ,CAAgB,CAAC+B,KAAD,EAAQrB,KAAR,kBACjB,QAAC,aAAD;AAA6B,YAAA,SAAS,EAAC,yBAAvC;AAAA,mCACI,QAAC,GAAD;AAAA,sCACE,QAAC,GAAD;AAAA,uCACE;AAAA,4BAAIqB,KAAK,CAACP;AAAV;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAIE,QAAC,GAAD;AAAA,0BACGO,KAAK,CAACN;AADT;AAAA;AAAA;AAAA;AAAA,sBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,aAAsBf,KAAtB;AAAA;AAAA;AAAA;AAAA,kBADC;AADH;AAAA;AAAA;AAAA;AAAA,gBADS,eAeT;AAAA;AAAA;AAAA;AAAA,gBAfS,eAgBT,QAAC,MAAD;AAAQ,UAAA,KAAK,EAAC,SAAd;AAAwB,UAAA,SAAS,EAAC,QAAlC;AAA2C,UAAA,OAAO,EAAEf,WAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAhBS,eAmBT,QAAC,KAAD;AAAO,UAAA,MAAM,EAAEpB,KAAf;AAAsB,UAAA,MAAM,EAAEoB,WAA9B;AAAA,kCACE,QAAC,WAAD;AAAa,YAAA,MAAM,EAAEA,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,SAAD;AAAW,YAAA,KAAK,EAAE;AAAEqC,cAAAA,cAAc,EAAE,QAAlB;AAA4BC,cAAAA,YAAY,EAAE,QAA1C;AAAoDC,cAAAA,OAAO,EAAE;AAA7D,aAAlB;AAAA,mCACE,QAAC,SAAD;AAAA,wBACGpD,eAAe,CAACkB,GAAhB,CAAoB,CAAC+B,KAAD,EAAQrB,KAAR,kBACrB,QAAC,aAAD;AAA6B,gBAAA,SAAS,EAAC,yBAAvC;AAAA,uCACI,QAAC,GAAD;AAAA,0CACE,QAAC,GAAD;AAAA,2CACE;AAAA,gCAAIqB,KAAK,CAACP;AAAV;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BADF,eAIE,QAAC,GAAD;AAAA,8BACGO,KAAK,CAACN;AADT;AAAA;AAAA;AAAA;AAAA,0BAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,iBAAsBf,KAAtB;AAAA;AAAA;AAAA;AAAA,sBADC;AADH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnBS;AAAA;AAAA;AAAA;AAAA;AAAA,cA1Bb;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAsED;;GAjKuBrC,Y;;KAAAA,Y","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport axiosRetry from 'axios-retry';\r\nimport { getTimeoutConfig } from \"axios/AxiosUtils\";\r\nimport { getRetryConfig } from \"axios/AxiosUtils\";\r\nimport env from 'common/enviroment.js';\r\n//import 'bootstrap/dist/css/bootstrap.css';\r\nimport {RiSearchLine} from 'react-icons/ri'\r\n\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  ListGroup,\r\n  ListGroupItem,\r\n  Col, Row,\r\n  Button,\r\n  Input, InputGroup,\r\n  CardHeader,\r\n  Modal, ModalBody, ModalHeader,\r\n  FormFeedback,\r\n} from 'reactstrap';\r\n\r\nimport { NavigationContext } from 'context/NavigationContext'\r\nimport { getCortexToken } from 'common/SessionUtils.js';\r\nimport { LetterFilter } from 'common/utils/filters';\r\n\r\nexport default function InfoCompanys() {\r\n\r\n  const body = {\r\n    'cortex_token': getCortexToken(),\r\n  }\r\n\r\n  const [modal, setModal] = React.useState(false);\r\n  const [cnpjConsulta, setcnpjConsulta] = React.useState('')\r\n  const [dataCompany, setdataCompany] = React.useState([])\r\n  const [moreDataCompany, setmoreDataCompany] = React.useState([])\r\n  const [invalidText, setinvalidText] = React.useState('')\r\n  const [isInvalid, setisInvalid] = React.useState(false)\r\n  const [isData, setisData] = React.useState(false)\r\n  const {setIsMap} = React.useContext(NavigationContext);\r\n\r\n  const axiosRetryProxy = axios.create(getTimeoutConfig())\r\n  axiosRetry(axiosRetryProxy, getRetryConfig())\r\n\r\n  React.useEffect (() => {\r\n  \r\n    setIsMap(false)\r\n    \r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  const toggleModal = () => setModal(!modal);\r\n\r\n  const titleCase = (text) => {\r\n    return text.toLowerCase()\r\n      .split(' ')\r\n      .map((word) => {\r\n        return word[0].toUpperCase() + word.slice(1);\r\n      }).join(' ')\r\n  }\r\n  \r\n  const ChangeKey = (nome) => {\r\n  \r\n    let mudar = []\r\n  \r\n    nome.split('').forEach( (letra, index) => {\r\n      if (nome[index] === `${nome[index].toUpperCase()}`){\r\n        mudar.push(nome[index])\r\n        \r\n      }\r\n    })\r\n  \r\n    mudar.forEach(function (letra) {\r\n      nome = nome.replace(`${letra}`, ` ${letra.toLowerCase()}`)\r\n    })\r\n  \r\n    return titleCase(nome)\r\n  \r\n  }\r\n\r\n  const ConsultarEmpresa = () => {\r\n\r\n    if (cnpjConsulta.length > 0){\r\n      axiosRetryProxy.post(`${env.apiAddress}/cortex/company/${cnpjConsulta}`, body).then(res => {\r\n\r\n        let data_moreinformation = []\r\n        let data_consulta = []\r\n\r\n        Object.entries(res.data).forEach(([key, value]) => {\r\n          if (typeof value === \"object\"){\r\n            \r\n          }\r\n          else{\r\n            data_consulta.push({\r\n              'key': ChangeKey(key),\r\n              'value': value\r\n            })\r\n          }\r\n        })\r\n\r\n        setdataCompany(data_consulta)\r\n        setmoreDataCompany(data_moreinformation)\r\n        setisData(true)\r\n        //console.log('Dados do individuo: ', data)\r\n        setisInvalid(false)\r\n\r\n      }).catch(err=>{\r\n        setinvalidText('Número de CNPJ inválido')\r\n        setisInvalid(true)\r\n      })\r\n    }\r\n    else{\r\n      setinvalidText('Digite um número de CNPJ')\r\n      setisInvalid(true)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <Card>\r\n        <CardHeader>\r\n          <Row>\r\n            <Col>\r\n              <RiSearchLine className=\"footer-icon\" size={20}/> Consulta\r\n            </Col>\r\n          </Row>\r\n          <InputGroup>\r\n            <Input invalid={isInvalid} \r\n              type=\"search\" \r\n              value={cnpjConsulta.replace(/^(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{2})/, \"$1.$2.$3/$4-$5\")} \r\n              maxLength=\"14\" \r\n              placeholder=\"Digite o cnpj da empresa\" \r\n              onChange={e => setcnpjConsulta(e.target.value)} \r\n              onKeyPress={event => LetterFilter(event)}\r\n            />\r\n            <Button color=\"primary\" onClick={ConsultarEmpresa}>\r\n              <RiSearchLine className=\"footer-icon\" size={15}/>\r\n            </Button>\r\n            {isInvalid && <FormFeedback>\r\n              {invalidText}\r\n            </FormFeedback>}\r\n          </InputGroup>\r\n            <h5>Dados CNPJ</h5>\r\n          <hr></hr>\r\n        </CardHeader>\r\n        {isData && <CardBody>\r\n          <ListGroup>\r\n            {dataCompany.map((dados, index) => (\r\n            <ListGroupItem key = {index} className=\"justify-content-between\">\r\n                <Row>\r\n                  <Col>\r\n                    <b>{dados.key}</b>\r\n                  </Col>\r\n                  <Col>\r\n                    {dados.value}\r\n                  </Col>\r\n                </Row>\r\n              </ListGroupItem>\r\n            ))}\r\n          </ListGroup>\r\n          <hr></hr>\r\n          <Button color=\"primary\" className=\"btn-md\" onClick={toggleModal}>\r\n            Mais Informações\r\n          </Button>\r\n          <Modal isOpen={modal} toggle={toggleModal}>\r\n            <ModalHeader toggle={toggleModal}>Informações Adicionais</ModalHeader>\r\n            <ModalBody style={{ justifyContent: 'center', alignContent: 'center', display: 'flex' }}>\r\n              <ListGroup>\r\n                {moreDataCompany.map((dados, index) => (\r\n                <ListGroupItem key = {index} className=\"justify-content-between\">\r\n                    <Row>\r\n                      <Col>\r\n                        <b>{dados.key}</b>\r\n                      </Col>\r\n                      <Col>\r\n                        {dados.value}\r\n                      </Col>\r\n                    </Row>\r\n                  </ListGroupItem>\r\n                ))}\r\n              </ListGroup>\r\n            </ModalBody>\r\n          </Modal>\r\n        </CardBody>}\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}