{"ast":null,"code":"import MASK_ENUM from \"common/enumerators/MaskEnum\";\nimport { applyMask, gambMask } from \"./mask\";\nexport const delay = ms => new Promise(res => setTimeout(res, ms));\nexport function mountClosingDateText(closingDate) {\n  let date = new Date(closingDate);\n  let now = new Date();\n  let difference = date.getTime() - now.getTime();\n  let totalDays = Math.floor(difference / (1000 * 3600 * 24));\n\n  if (!closingDate || !date) {\n    return \"\";\n  } else if (now > date) return \"Encerrado\";else if (totalDays > 0 && totalDays <= 5) {\n    return totalDays + \" dias para encerrar o alerta\";\n  } else if (totalDays === 0) {\n    let totalHours = Math.ceil(difference / (1000 * 3600));\n    return totalHours + \" horas para encerrar o alerta\";\n  } else {\n    return \"\";\n  }\n}\nexport function conditionalClosingDateRowFormat(closingDate) {\n  let date = new Date(closingDate);\n  let now = new Date();\n  let difference = date.getTime() - now.getTime();\n  let totalDays = Math.floor(difference / (1000 * 3600 * 24));\n  if (now > date) return {\n    fontStyle: 'italic'\n  };else if (totalDays >= 0 && totalDays <= 5) {\n    return {\n      color: \"red\"\n    };\n  } else {\n    return {};\n  }\n}\nexport function trimText(text) {\n  if (text !== null && text !== undefined && text.length > 100) {\n    return text.substring(0, 50) + \"...\";\n  } else {\n    return text;\n  }\n}\nexport function calculateComponentHeight(value) {\n  let marginValues = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"0 0px\";\n\n  if (value !== null && value !== undefined) {\n    let standardizedSizes = ['50px', '50px', '100px', '125px', '150px', '175px', '200px', '250px', '275px', '300px'];\n    let maxRowIndex = 9;\n    let index = 0;\n    let count = 0;\n\n    for (var i = 0; i < value.length; count += +(\"\\n\" === value[i++]));\n\n    index = value.length / 50;\n\n    if (count >= 2 && index < count) {\n      index = count + 1;\n    }\n\n    index = index <= 0 ? 0 : index - 1;\n    let height = index < maxRowIndex ? standardizedSizes[index] : standardizedSizes[maxRowIndex];\n    return {\n      minHeight: height,\n      padding: \"6px 7px 6px 12px\",\n      margin: marginValues\n    };\n  } else {\n    return {\n      minHeight: '50px',\n      padding: \"6px 7px 6px 12px\"\n    };\n  }\n}\nexport function createConditionText(display, value, mask) {\n  if (value !== null && value !== undefined && value !== '') {\n    return display + \": \" + applyMask(mask, gambMask(value, mask)) + \"\\n\";\n  } else {\n    return \"\";\n  }\n}\nexport function mountConditionsText(data) {\n  let aux = data;\n\n  if (data['configuracao']) {\n    aux = data['configuracao']; // O SSE usado na view de mapas monta os dados de uma warning de forma diferente. Ele não quebra em colunas. Por isso é necessário este condicional\n  }\n\n  let result = \"\";\n  result += createConditionText(\"CPF Destinatário (NFe)\", aux['cpf_destinatario'], MASK_ENUM.CPF);\n  result += createConditionText(\"CPF Emitente (MDFe)\", aux['cpf_emitente'], MASK_ENUM.CPF);\n  result += createConditionText(\"CPF Emitente (NFe)\", aux['cpf_emitente_nfe'], MASK_ENUM.CPF);\n  result += createConditionText(\"CPF Condutor (MDFe)\", aux['cpf_condutor'], MASK_ENUM.CPF);\n  result += createConditionText(\"CNPJ Destinatário (NFe)\", aux['cnpj_destinatario'], MASK_ENUM.CNPJ);\n  result += createConditionText(\"CNPJ Emitente (MDFe)\", aux['cnpj_emitente'], MASK_ENUM.CNPJ);\n  result += createConditionText(\"CNPJ Emitente (NFe)\", aux['cnpj_emitente_nfe'], MASK_ENUM.CNPJ);\n  result += createConditionText(\"Placa\", aux['placa'], MASK_ENUM.PLATE);\n  result += createConditionText(\"Valor do Documento (MDFe)\", aux['valor'], MASK_ENUM.MONEY);\n  result += createConditionText(\"Valor do Documento (NFe)\", aux['valor_nfe'], MASK_ENUM.MONEY);\n  result += createConditionText(\"Valor do Agregado (DFea)\", aux['valor_agregado'], MASK_ENUM.MONEY);\n\n  if (result.charAt(result.length - 1) === '\\n') {\n    result = result.substring(0, result.length - 1);\n  }\n\n  return result;\n}\nexport function conditionalAppend(value, result) {\n  if (value && value !== \"\" && value !== \"None\") {\n    return result.push(value);\n  }\n}","map":{"version":3,"sources":["C:/Users/rodri/OneDrive/Documentos/cicc-app/front-end/src/common/utils/forms.js"],"names":["MASK_ENUM","applyMask","gambMask","delay","ms","Promise","res","setTimeout","mountClosingDateText","closingDate","date","Date","now","difference","getTime","totalDays","Math","floor","totalHours","ceil","conditionalClosingDateRowFormat","fontStyle","color","trimText","text","undefined","length","substring","calculateComponentHeight","value","marginValues","standardizedSizes","maxRowIndex","index","count","i","height","minHeight","padding","margin","createConditionText","display","mask","mountConditionsText","data","aux","result","CPF","CNPJ","PLATE","MONEY","charAt","conditionalAppend","push"],"mappings":"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","sourcesContent":["import MASK_ENUM from \"common/enumerators/MaskEnum\";\r\nimport { applyMask, gambMask } from \"./mask\";\r\n\r\nexport const delay = ms => new Promise(res => setTimeout(res, ms));\r\n\r\nexport function mountClosingDateText(closingDate) {\r\n\r\n    let date = new Date(closingDate);\r\n    let now = new Date();\r\n    let difference = date.getTime() - now.getTime();\r\n    let totalDays = Math.floor(difference / (1000 * 3600 * 24));\r\n  \r\n    if (!closingDate || !date){\r\n      return \"\";\r\n    } else if (now > date)\r\n      return \"Encerrado\";\r\n    else if (totalDays > 0 && totalDays <= 5) {\r\n      return totalDays + \" dias para encerrar o alerta\";\r\n    } else if (totalDays === 0) {\r\n      let totalHours = Math.ceil(difference / (1000 * 3600));\r\n      return totalHours + \" horas para encerrar o alerta\";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n  \r\n  \r\n  export  function conditionalClosingDateRowFormat(closingDate) {\r\n  \r\n    let date = new Date(closingDate);\r\n    let now = new Date();\r\n    let difference = date.getTime() - now.getTime();\r\n    let totalDays = Math.floor(difference / (1000 * 3600 * 24));\r\n  \r\n  \r\n    if (now > date)\r\n      return {fontStyle: 'italic'};\r\n    else if (totalDays >= 0 && totalDays <= 5) {\r\n      return {color: \"red\" }\r\n    } else {\r\n      return {};\r\n    }\r\n  }\r\n  \r\n  \r\n  \r\n  export function trimText(text) {\r\n    if (text !== null && text !== undefined && text.length > 100){\r\n      return text.substring(0,50) + \"...\";\r\n    } else {\r\n      return text;\r\n    }\r\n  }\r\n  \r\n  \r\n  \r\n  \r\n  export function calculateComponentHeight (value, marginValues=\"0 0px\") {\r\n    if (value !== null && value !== undefined){\r\n      let standardizedSizes = ['50px', '50px', '100px', '125px', '150px', '175px', '200px', '250px', '275px', '300px' ]\r\n  \r\n      let maxRowIndex = 9\r\n  \r\n      let index = 0;\r\n      let count = 0;\r\n      for(var i=0; i<value.length; count+=+(\"\\n\"===value[i++]));\r\n      index = (value.length / 50)\r\n      if (count >= 2 && index < count) {\r\n        index = count + 1\r\n      }\r\n      index = index <=0 ? 0 : index-1;\r\n  \r\n      let height = index < maxRowIndex ? standardizedSizes[index] : standardizedSizes[maxRowIndex];\r\n      return {minHeight: height, padding: \"6px 7px 6px 12px\", margin: marginValues}\r\n    } else {\r\n      return {minHeight: '50px', padding: \"6px 7px 6px 12px\"}\r\n    }\r\n  }\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  export function createConditionText(display, value, mask,) {\r\n    if (value !== null && value !== undefined && value !== '') {\r\n      return display + \": \" + applyMask(mask, gambMask(value, mask)) + \"\\n\";\r\n  \r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n  \r\n  \r\n  \r\n  \r\n  export function mountConditionsText(data) {\r\n  \r\n    let aux = data\r\n    if (data['configuracao']){\r\n      aux = data['configuracao'] // O SSE usado na view de mapas monta os dados de uma warning de forma diferente. Ele não quebra em colunas. Por isso é necessário este condicional\r\n    }\r\n  \r\n    let result = \"\";\r\n    result += createConditionText(\"CPF Destinatário (NFe)\", aux['cpf_destinatario'], MASK_ENUM.CPF)\r\n    result += createConditionText(\"CPF Emitente (MDFe)\", aux['cpf_emitente'], MASK_ENUM.CPF)\r\n    result += createConditionText(\"CPF Emitente (NFe)\", aux['cpf_emitente_nfe'], MASK_ENUM.CPF)\r\n    result += createConditionText(\"CPF Condutor (MDFe)\", aux['cpf_condutor'], MASK_ENUM.CPF)\r\n    result += createConditionText(\"CNPJ Destinatário (NFe)\", aux['cnpj_destinatario'], MASK_ENUM.CNPJ)\r\n    result += createConditionText(\"CNPJ Emitente (MDFe)\", aux['cnpj_emitente'], MASK_ENUM.CNPJ)\r\n    result += createConditionText(\"CNPJ Emitente (NFe)\", aux['cnpj_emitente_nfe'], MASK_ENUM.CNPJ)\r\n    result += createConditionText(\"Placa\", aux['placa'], MASK_ENUM.PLATE)\r\n    result += createConditionText(\"Valor do Documento (MDFe)\", aux['valor'], MASK_ENUM.MONEY)\r\n    result += createConditionText(\"Valor do Documento (NFe)\", aux['valor_nfe'], MASK_ENUM.MONEY)\r\n    result += createConditionText(\"Valor do Agregado (DFea)\", aux['valor_agregado'], MASK_ENUM.MONEY)\r\n    if (result.charAt(result.length - 1) === '\\n') {\r\n      result = result.substring(0, result.length - 1)\r\n    }\r\n  \r\n    return result;\r\n  }\r\n  \r\n  \r\n  \r\n  export function conditionalAppend(value, result) {\r\n    if (value && value !== \"\" && value !== \"None\") {\r\n        return result.push(value)\r\n    }\r\n  }\r\n  "]},"metadata":{},"sourceType":"module"}