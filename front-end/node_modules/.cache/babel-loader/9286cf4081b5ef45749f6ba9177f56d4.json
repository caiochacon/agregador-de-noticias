{"ast":null,"code":"var _jsxFileName = \"C:\\\\aria\\\\cicc-app\\\\front-end\\\\src\\\\views\\\\Vehicles.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport axios from 'axios';\nimport axiosRetry from 'axios-retry';\nimport { getTimeoutConfig } from \"axios/AxiosUtils\";\nimport { getRetryConfig } from \"axios/AxiosUtils\";\nimport env from 'common/enviroment.js';\nimport mapOptions from 'common/mapOptions.js';\nimport { GoogleMap, Marker, InfoWindow } from '@react-google-maps/api';\nimport { useJsApiLoader } from '@react-google-maps/api'; //import 'bootstrap/dist/css/bootstrap.css';\n\nimport { RiSearchLine } from 'react-icons/ri';\nimport { VehicleContext } from 'context/VehicleContext';\nimport { NavigationContext } from 'context/NavigationContext';\nimport { Card, CardBody, ListGroup, ListGroupItem, Col, Row, Button, Input, InputGroup, CardHeader, Modal, ModalBody, ModalHeader, FormFeedback, Table } from 'reactstrap';\nimport { FiChevronsDown, FiChevronsUp } from 'react-icons/fi';\nimport { getCortexToken } from 'common/SessionUtils';\nimport { getUserRole } from 'common/SessionUtils';\nimport { convertUtcToBrazilianDate } from 'common/utils/validate';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst containerStyle = {\n  width: 'auto',\n  height: '600px'\n};\nexport default function InfoVehicles() {\n  _s();\n\n  const body = {\n    'cortex_token': getCortexToken(),\n    'role': getUserRole()\n  };\n  const [zoom, setZoom] = React.useState(11);\n  const [cordInfoWindo, setCordInfoWindo] = React.useState({\n    lat: -7.254653852199306,\n    lng: -36.69661154766497\n  }); //const [muda, setmuda] = React.useState(true)\n\n  const {\n    placa,\n    setplaca,\n    toVehicleRoute,\n    setoVehicleRoute\n  } = React.useContext(VehicleContext);\n  const {\n    setIsMap\n  } = React.useContext(NavigationContext);\n  const [dataInfoWindo, setdataInfoWindo] = React.useState({});\n  const [isInfoActive, setisInfoActive] = React.useState(false);\n  const [selectedMarker, setselectedMarker] = React.useState('');\n  const [mouseOverMarker, setMouseOverMarer] = React.useState('');\n  const [isDataActive, setisDataActive] = React.useState(false);\n  const [dataConsulta, setdataConsulta] = React.useState([]);\n  const [dataVerMais, setdataVermais] = React.useState([]);\n  const [placaConsulta, setplacaConsulta] = React.useState(placa);\n  const [localizacoesConsulta, setlocalizacoesConsulta] = React.useState([]);\n  const [invalidText, setinvalidText] = React.useState('');\n  const [isInvalid, setisInvalid] = React.useState(false);\n  const [modal, setModal] = React.useState(false);\n  const [isOpen, setIsOpen] = React.useState(false);\n\n  const toggle = () => setIsOpen(!isOpen);\n\n  const toggleMoreInformation = () => setModal(!modal);\n\n  const axiosRetryProxy = axios.create(getTimeoutConfig());\n  axiosRetry(axiosRetryProxy, getRetryConfig());\n  const {\n    isLoaded: googleMapLoaded,\n    loadError: googleMapError\n  } = useJsApiLoader({\n    id: 'google-map-script',\n    googleMapsApiKey: env.googleApiKey\n  });\n  React.useEffect(() => {\n    setIsMap(false); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const labels_to_marker = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'X', 'W', 'Y', 'Z'];\n\n  function counterMarker(localizacoes) {\n    let contador = {};\n    let verificar = [];\n    let index_to_labels_marker = {};\n    let markers_contador = {};\n    let index_to_label = 0;\n    localizacoes.slice().reverse().forEach((localizacao, index) => {\n      if (verificar.includes(localizacao.local) === false) {\n        verificar.push(localizacao.local);\n        contador[index] = localizacao.local;\n        index_to_labels_marker[localizacao.local] = index_to_label;\n        index_to_label += 1;\n        markers_contador[localizacao.local] = 1;\n      } else markers_contador[localizacao.local] += 1;\n    });\n    return [contador, index_to_labels_marker, markers_contador];\n  }\n\n  function unique(value, index, self) {\n    return self.indexOf(value) === index;\n  }\n\n  function createMarkerColors(localizacoes, counter_of_each_location) {\n    let inicial_color = [78, 124, 255];\n    let locais = localizacoes.slice().reverse().map(localizacao => {\n      return localizacao.local;\n    });\n    let locais_unicos = locais.filter(unique);\n    let change_color = inicial_color.map(color => color / locais_unicos.length);\n    let locais_unicos_colors = {};\n    locais_unicos.forEach((local, index) => {\n      let [R, G, B] = inicial_color;\n      locais_unicos_colors[local] = [Math.ceil(R - counter_of_each_location[local] * change_color[0]), Math.ceil(G - counter_of_each_location[local] * change_color[1]), Math.ceil(B - counter_of_each_location[local] * change_color[2])];\n    });\n    return locais_unicos_colors;\n  }\n\n  if (localizacoesConsulta.length > 0) {\n    var [counter, markers_index_labels, counter_locations_markers] = counterMarker(localizacoesConsulta);\n    var all_colors = createMarkerColors(localizacoesConsulta, counter_locations_markers);\n  }\n\n  const titleCase = text => {\n    return text.toLowerCase().split(' ').map(word => {\n      return word[0].toUpperCase() + word.slice(1);\n    }).join(' ');\n  };\n\n  const ChangeKey = nome => {\n    let mudar = [];\n    nome.split('').forEach((letra, index) => {\n      if (nome[index] === \"\".concat(nome[index].toUpperCase())) {\n        mudar.push(nome[index]);\n      }\n    });\n    mudar.forEach(function (letra) {\n      nome = nome.replace(\"\".concat(letra), \" \".concat(letra.toLowerCase()));\n    });\n    return titleCase(nome);\n  };\n\n  function sleep(time) {\n    return new Promise(resolve => setTimeout(resolve, time));\n  }\n\n  function DataFormatada(valor) {\n    let data;\n    data = convertUtcToBrazilianDate(valor);\n\n    if (data === \"Invalid Date\" || valor.length === 4) {\n      return valor;\n    }\n\n    ;\n    return data;\n  }\n\n  const ConsultarVeiculo = () => {\n    if (placaConsulta.length > 0) {\n      axiosRetryProxy.post(\"\".concat(env.apiAddress, \"/cortex/license/\").concat(placaConsulta), body).then(res => {\n        let data_consulta = [];\n        let data_vermais = [];\n        let NOT_ALLOWED_VEHICLES = [\"automóvel\", \"automovel\", \"ciclomotor\", \"motoneta\", \"motocicleta\", \"triciclo\", \"quadriciclo\"];\n\n        if (res.data['tipoVeiculo'] && NOT_ALLOWED_VEHICLES.includes(res.data['tipoVeiculo'].toLowerCase())) {\n          setisInvalid(true);\n          setinvalidText('Não é um veículo de carga!');\n          setisDataActive(false);\n          return;\n        }\n\n        Object.entries(res.data).forEach(_ref => {\n          let [key, value] = _ref;\n\n          if (key === \"placa\" || key === \"marcaModelo\" || key === \"anoFabricacao\" || key === \"anoModelo\" || key === \"cor\" || key === \"categoria\" || key === \"especie\" || key === \"tipoVeiculo\" || key === \"ufEmplacamento\" || key === \"municipioPlaca\") {\n            data_consulta.push({\n              \"chave\": key ? ChangeKey(key) : '',\n              \"valor\": value ? value : ''\n            });\n          } else if (key === \"proprietario\") {\n            Object.entries(value).forEach(_ref2 => {\n              let [key2, value2] = _ref2;\n\n              if (key2 === \"nomeProprietario\" || key2 === \"numeroDocumentoProprietario\" || key2 === \"enderecoProprietario\") {\n                data_consulta.push({\n                  \"chave\": key2 ? ChangeKey(key2) : '',\n                  \"valor\": value2 ? value2 : ''\n                });\n              } else {\n                data_vermais.push({\n                  \"chave\": key2 ? ChangeKey(key2) : '',\n                  \"valor\": value2 ? value2 : ''\n                });\n              }\n            });\n          } else if (key === \"possuidor\") {\n            Object.entries(value).forEach(_ref3 => {\n              let [key2, value2] = _ref3;\n              data_vermais.push({\n                \"chave\": key2 ? ChangeKey(key2) : '',\n                \"valor\": value2 ? value2 : ''\n              });\n            });\n          } else if (key === \"arrendatario\") {\n            Object.entries(value).forEach(_ref4 => {\n              let [key2, value2] = _ref4;\n              data_vermais.push({\n                \"chave\": key2 ? ChangeKey(key2) : '',\n                \"valor\": value2 ? value2 : ''\n              });\n            });\n          } else {\n            data_vermais.push({\n              \"chave\": key ? ChangeKey(key) : '',\n              \"valor\": value ? value : ''\n            });\n          }\n        });\n        setdataConsulta(data_consulta);\n        setdataVermais(data_vermais);\n        setisDataActive(true);\n      }).catch(err => {\n        setisInvalid(true);\n        setinvalidText('Placa inválida !');\n        setisDataActive(false);\n      });\n      sleep(2000).then(() => {\n        axiosRetryProxy.post(\"\".concat(env.apiAddress, \"/cortex/location/\").concat(placaConsulta), body).then(res => {\n          if (res.data.length > 0) {\n            let Data = res.data;\n            Data.forEach((movimentos, index) => {\n              let [data, hora] = movimentos.dataPassagem.split(\" \");\n              Data[index][\"data\"] = data;\n              Data[index][\"hora\"] = hora;\n            });\n            setlocalizacoesConsulta(Data);\n            setCordInfoWindo({\n              lat: Data[0].latitude,\n              lng: Data[0].longitude\n            });\n            setisInvalid(false);\n          } else {\n            setCordInfoWindo({\n              lat: -7.254653852199306,\n              lng: -36.69661154766497\n            });\n            setlocalizacoesConsulta([]);\n            setisInfoActive(false);\n            setisInvalid(false);\n          }\n        });\n      });\n    } else {\n      setisInvalid(true);\n      setinvalidText('Digite uma placa !');\n    }\n  };\n\n  if (toVehicleRoute) {\n    setoVehicleRoute(false);\n    setplaca('');\n    ConsultarVeiculo();\n  }\n\n  const OnCloseInfoWindo = () => {\n    setisInfoActive(false);\n    setselectedMarker('');\n    setZoom(11);\n  };\n\n  const ChangeInfoWindo = movimento => {\n    return () => {\n      setselectedMarker(movimento.local);\n      setCordInfoWindo({\n        lat: movimento.latitude,\n        lng: movimento.longitude\n      });\n      setdataInfoWindo({\n        data: movimento.data,\n        hora: movimento.hora\n      });\n      setisInfoActive(true);\n      setZoom(13);\n    };\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(CardBody, {\n        children: [googleMapError && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"N\\xE3o foi poss\\xEDvel carregar o GoogleMap.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 28\n        }, this), googleMapLoaded ? /*#__PURE__*/_jsxDEV(GoogleMap, {\n          mapContainerStyle: containerStyle,\n          center: cordInfoWindo,\n          zoom: zoom,\n          options: mapOptions,\n          children: [localizacoesConsulta.length > 0 && localizacoesConsulta.slice().reverse().map((movimento, index) => {\n            if (Object.keys(counter).includes(index.toString())) {\n              return /*#__PURE__*/_jsxDEV(Marker, {\n                options: {\n                  icon: {\n                    url: \"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|\".concat(movimento.local === mouseOverMarker ? '00FF00' : 'ff0000'),\n                    scaledSize: {\n                      height: 42,\n                      width: 27\n                    }\n                  }\n                },\n                zIndex: movimento.local === mouseOverMarker ? 13 : markers_index_labels[movimento.local],\n                position: {\n                  lat: movimento.latitude,\n                  lng: movimento.longitude\n                },\n                onClick: ChangeInfoWindo(movimento),\n                label: {\n                  text: labels_to_marker[markers_index_labels[movimento.local]],\n                  color: \"white\",\n                  fontSize: '0.9rem',\n                  bottom: 12\n                }\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 19\n              }, this);\n            } else {\n              return \"\";\n            }\n          }), isInfoActive && /*#__PURE__*/_jsxDEV(InfoWindow, {\n            position: cordInfoWindo,\n            onCloseClick: OnCloseInfoWindo,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Data: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 19\n              }, this), \" \", \"\".concat(dataInfoWindo.data, \"\\n\"), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 60\n              }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Hora: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 19\n              }, this), \" \", \"\".concat(dataInfoWindo.hora, \"\\n\"), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 60\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"https://www.google.com/maps/search/\".concat(cordInfoWindo.lat, \",\").concat(cordInfoWindo.lng),\n                target: \"_blank\",\n                rel: \"noreferrer\",\n                children: \"Google Maps\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: 5,\n              lg: 5,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"border-secondary mb-3\",\n                style: {\n                  height: isDataActive ? '60%' : '100%',\n                  borderTopLeftRadius: '0px',\n                  borderTopRightRadius: '0px',\n                  borderBottomLeftRadius: '0px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                  style: {\n                    padding: '0px 15px 0px 0px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Row, {\n                    style: {\n                      margin: '10px 0px 15px 0px'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      style: {\n                        padding: '0px'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(RiSearchLine, {\n                        className: \"footer-icon\",\n                        size: 20\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 396,\n                        columnNumber: 25\n                      }, this), \" Consulta\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 395,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      style: {\n                        padding: '0px'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 399,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      color: \"primary\",\n                      onClick: toggle,\n                      style: {\n                        backgroundColor: 'White',\n                        hover: 'red',\n                        border: '0px',\n                        color: 'red',\n                        padding: '0px'\n                      },\n                      children: [\" \", isOpen ? /*#__PURE__*/_jsxDEV(FiChevronsUp, {\n                        className: \"close\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 402,\n                        columnNumber: 166\n                      }, this) : /*#__PURE__*/_jsxDEV(FiChevronsDown, {\n                        className: \"close\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 402,\n                        columnNumber: 201\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 402,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 21\n                  }, this), !isOpen && /*#__PURE__*/_jsxDEV(InputGroup, {\n                    children: [/*#__PURE__*/_jsxDEV(Input, {\n                      invalid: isInvalid,\n                      type: \"search\",\n                      placeholder: \"Digite a placa\",\n                      onChange: e => setplacaConsulta(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 405,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      color: \"primary\",\n                      onClick: ConsultarVeiculo,\n                      children: /*#__PURE__*/_jsxDEV(RiSearchLine, {\n                        className: \"footer-icon\",\n                        size: 15\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 407,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 406,\n                      columnNumber: 23\n                    }, this), isInvalid && /*#__PURE__*/_jsxDEV(FormFeedback, {\n                      children: invalidText\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 409,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 404,\n                    columnNumber: 35\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 413,\n                    columnNumber: 23\n                  }, this), isDataActive && !isOpen && \"Dados do Veículo\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 19\n                }, this), isDataActive && !isOpen && /*#__PURE__*/_jsxDEV(CardBody, {\n                  color: \"sucess\",\n                  style: {\n                    maxHeight: '700px',\n                    overflowY: 'auto'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(ListGroup, {\n                    children: dataConsulta.map((dados, index) => /*#__PURE__*/_jsxDEV(ListGroupItem, {\n                      className: \"justify-content-between\",\n                      children: /*#__PURE__*/_jsxDEV(Row, {\n                        children: [/*#__PURE__*/_jsxDEV(Col, {\n                          children: /*#__PURE__*/_jsxDEV(\"b\", {\n                            children: dados.chave\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 422,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 421,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(Col, {\n                          children: DataFormatada(dados.valor)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 424,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 420,\n                        columnNumber: 27\n                      }, this)\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 419,\n                      columnNumber: 23\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 431,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    color: \"primary\",\n                    className: \"btn-md\",\n                    onClick: toggleMoreInformation,\n                    children: \"Mais Informa\\xE7\\xF5es\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Modal, {\n                    isOpen: modal,\n                    toggle: toggleMoreInformation,\n                    children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n                      toggle: toggleMoreInformation,\n                      children: \"Informa\\xE7\\xF5es Adicionais\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 436,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n                      style: {\n                        justifyContent: 'center',\n                        alignContent: 'center',\n                        display: 'flex'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(ListGroup, {\n                        children: dataVerMais.map((dados, index) => /*#__PURE__*/_jsxDEV(ListGroupItem, {\n                          className: \"justify-content-between\",\n                          children: /*#__PURE__*/_jsxDEV(Row, {\n                            children: [/*#__PURE__*/_jsxDEV(Col, {\n                              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                                children: dados.chave\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 443,\n                                columnNumber: 35\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 442,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(Col, {\n                              children: DataFormatada(dados.valor)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 445,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 441,\n                            columnNumber: 31\n                          }, this)\n                        }, index, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 440,\n                          columnNumber: 27\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 438,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 437,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 435,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 47\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 30\n        }, this) : \"\", /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"font\", {\n            style: {\n              color: '#ff0000',\n              fontSize: '1.2em'\n            },\n            children: \"Obs: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"font\", {\n            style: {\n              color: '#51cbce',\n              fontSize: '1.2em'\n            },\n            children: \"Fonte de dados do Sistema C\\xF3rtex\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 75\n          }, this)]\n        }, void 0, true), localizacoesConsulta.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            style: {\n              marginTop: '10px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              className: \"text-primary text-uppercase font-weight-bold\",\n              children: [\"\\xDAltimas posi\\xE7\\xF5es - \", \" \".concat(placaConsulta)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 15\n          }, this)\n        }, void 0, false), localizacoesConsulta.length > 0 && /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              responsive: true,\n              hover: true,\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"text-primary\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  style: {\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"#\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Data/Hora\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 492,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Local\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Identificador\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: localizacoesConsulta.slice().map((movimento, index) => {\n                  if (movimento.local === selectedMarker) {\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      onClick: ChangeInfoWindo(movimento),\n                      style: {\n                        backgroundColor: 'rgba(128, 128, 128, 0.7)',\n                        textAlign: 'center'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: index + 1\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 503,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"\".concat(movimento.data, \" \").concat(movimento.hora)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 504,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: movimento.local\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 505,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: labels_to_marker[markers_index_labels[movimento.local]]\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 506,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 502,\n                      columnNumber: 25\n                    }, this);\n                  } else {\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      onClick: ChangeInfoWindo(movimento),\n                      style: {\n                        textAlign: 'center'\n                      },\n                      onMouseOver: () => {\n                        setMouseOverMarer(movimento.local);\n                      },\n                      onMouseOut: () => {\n                        setMouseOverMarer('');\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: index + 1\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 512,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"\".concat(movimento.data, \" \").concat(movimento.hora)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 513,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: movimento.local\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 514,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          backgroundColor: \"rgba(\".concat(all_colors[movimento.local][0], \", \").concat(all_colors[movimento.local][1], \", \").concat(all_colors[movimento.local][2], \", 0.7)\"),\n                          color: 'white'\n                        },\n                        children: labels_to_marker[markers_index_labels[movimento.local]]\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 517,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 511,\n                      columnNumber: 25\n                    }, this);\n                  }\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 328,\n    columnNumber: 5\n  }, this);\n}\n\n_s(InfoVehicles, \"6z8XzK7NpqWc6+621/KC6uNcEeM=\", false, function () {\n  return [useJsApiLoader];\n});\n\n_c = InfoVehicles;\n\nvar _c;\n\n$RefreshReg$(_c, \"InfoVehicles\");","map":{"version":3,"sources":["C:/aria/cicc-app/front-end/src/views/Vehicles.js"],"names":["React","axios","axiosRetry","getTimeoutConfig","getRetryConfig","env","mapOptions","GoogleMap","Marker","InfoWindow","useJsApiLoader","RiSearchLine","VehicleContext","NavigationContext","Card","CardBody","ListGroup","ListGroupItem","Col","Row","Button","Input","InputGroup","CardHeader","Modal","ModalBody","ModalHeader","FormFeedback","Table","FiChevronsDown","FiChevronsUp","getCortexToken","getUserRole","convertUtcToBrazilianDate","containerStyle","width","height","InfoVehicles","body","zoom","setZoom","useState","cordInfoWindo","setCordInfoWindo","lat","lng","placa","setplaca","toVehicleRoute","setoVehicleRoute","useContext","setIsMap","dataInfoWindo","setdataInfoWindo","isInfoActive","setisInfoActive","selectedMarker","setselectedMarker","mouseOverMarker","setMouseOverMarer","isDataActive","setisDataActive","dataConsulta","setdataConsulta","dataVerMais","setdataVermais","placaConsulta","setplacaConsulta","localizacoesConsulta","setlocalizacoesConsulta","invalidText","setinvalidText","isInvalid","setisInvalid","modal","setModal","isOpen","setIsOpen","toggle","toggleMoreInformation","axiosRetryProxy","create","isLoaded","googleMapLoaded","loadError","googleMapError","id","googleMapsApiKey","googleApiKey","useEffect","labels_to_marker","counterMarker","localizacoes","contador","verificar","index_to_labels_marker","markers_contador","index_to_label","slice","reverse","forEach","localizacao","index","includes","local","push","unique","value","self","indexOf","createMarkerColors","counter_of_each_location","inicial_color","locais","map","locais_unicos","filter","change_color","color","length","locais_unicos_colors","R","G","B","Math","ceil","counter","markers_index_labels","counter_locations_markers","all_colors","titleCase","text","toLowerCase","split","word","toUpperCase","join","ChangeKey","nome","mudar","letra","replace","sleep","time","Promise","resolve","setTimeout","DataFormatada","valor","data","ConsultarVeiculo","post","apiAddress","then","res","data_consulta","data_vermais","NOT_ALLOWED_VEHICLES","Object","entries","key","key2","value2","catch","err","Data","movimentos","hora","dataPassagem","latitude","longitude","OnCloseInfoWindo","ChangeInfoWindo","movimento","keys","toString","icon","url","scaledSize","fontSize","bottom","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","padding","margin","backgroundColor","hover","border","e","target","maxHeight","overflowY","dados","chave","justifyContent","alignContent","display","marginTop","textAlign"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,SAASC,gBAAT,QAAiC,kBAAjC;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,OAAOC,GAAP,MAAgB,sBAAhB;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,UAA5B,QAA6C,wBAA7C;AACA,SAASC,cAAT,QAA+B,wBAA/B,C,CAEA;;AACA,SAAQC,YAAR,QAA2B,gBAA3B;AAGA,SAASC,cAAT,QAA+B,wBAA/B;AACA,SAASC,iBAAT,QAAkC,2BAAlC;AAEA,SACEC,IADF,EAEEC,QAFF,EAGEC,SAHF,EAIEC,aAJF,EAKEC,GALF,EAKOC,GALP,EAMEC,MANF,EAOEC,KAPF,EAOSC,UAPT,EAQEC,UARF,EASEC,KATF,EASSC,SATT,EASoBC,WATpB,EAUEC,YAVF,EAWEC,KAXF,QAYO,YAZP;AAcA,SAAQC,cAAR,EAAwBC,YAAxB,QAA2C,gBAA3C;AACA,SAASC,cAAT,QAA+B,qBAA/B;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,yBAAT,QAA0C,uBAA1C;;;AAEA,MAAMC,cAAc,GAAG;AACrBC,EAAAA,KAAK,EAAE,MADc;AAErBC,EAAAA,MAAM,EAAE;AAFa,CAAvB;AAKA,eAAe,SAASC,YAAT,GAAwB;AAAA;;AAErC,QAAMC,IAAI,GAAG;AACX,oBAAgBP,cAAc,EADnB;AAEX,YAAQC,WAAW;AAFR,GAAb;AAKA,QAAM,CAACO,IAAD,EAAOC,OAAP,IAAkBxC,KAAK,CAACyC,QAAN,CAAe,EAAf,CAAxB;AACA,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAqC3C,KAAK,CAACyC,QAAN,CACzC;AAACG,IAAAA,GAAG,EAAE,CAAC,iBAAP;AACAC,IAAAA,GAAG,EAAE,CAAC;AADN,GADyC,CAA3C,CARqC,CAarC;;AACA,QAAM;AAACC,IAAAA,KAAD;AAAQC,IAAAA,QAAR;AAAkBC,IAAAA,cAAlB;AAAkCC,IAAAA;AAAlC,MAAsDjD,KAAK,CAACkD,UAAN,CAAiBtC,cAAjB,CAA5D;AACA,QAAM;AAACuC,IAAAA;AAAD,MAAanD,KAAK,CAACkD,UAAN,CAAiBrC,iBAAjB,CAAnB;AACA,QAAM,CAACuC,aAAD,EAAgBC,gBAAhB,IAAoCrD,KAAK,CAACyC,QAAN,CAAe,EAAf,CAA1C;AACA,QAAM,CAACa,YAAD,EAAeC,eAAf,IAAkCvD,KAAK,CAACyC,QAAN,CAAe,KAAf,CAAxC;AACA,QAAM,CAACe,cAAD,EAAiBC,iBAAjB,IAAsCzD,KAAK,CAACyC,QAAN,CAAe,EAAf,CAA5C;AACA,QAAM,CAACiB,eAAD,EAAkBC,iBAAlB,IAAuC3D,KAAK,CAACyC,QAAN,CAAe,EAAf,CAA7C;AACA,QAAM,CAACmB,YAAD,EAAeC,eAAf,IAAkC7D,KAAK,CAACyC,QAAN,CAAe,KAAf,CAAxC;AACA,QAAM,CAACqB,YAAD,EAAeC,eAAf,IAAkC/D,KAAK,CAACyC,QAAN,CAAe,EAAf,CAAxC;AACA,QAAM,CAACuB,WAAD,EAAcC,cAAd,IAAgCjE,KAAK,CAACyC,QAAN,CAAe,EAAf,CAAtC;AACA,QAAM,CAACyB,aAAD,EAAgBC,gBAAhB,IAAoCnE,KAAK,CAACyC,QAAN,CAAeK,KAAf,CAA1C;AACA,QAAM,CAACsB,oBAAD,EAAuBC,uBAAvB,IAAkDrE,KAAK,CAACyC,QAAN,CAAe,EAAf,CAAxD;AACA,QAAM,CAAC6B,WAAD,EAAcC,cAAd,IAAgCvE,KAAK,CAACyC,QAAN,CAAe,EAAf,CAAtC;AACA,QAAM,CAAC+B,SAAD,EAAYC,YAAZ,IAA4BzE,KAAK,CAACyC,QAAN,CAAe,KAAf,CAAlC;AAEA,QAAM,CAACiC,KAAD,EAAQC,QAAR,IAAoB3E,KAAK,CAACyC,QAAN,CAAe,KAAf,CAA1B;AACA,QAAM,CAACmC,MAAD,EAASC,SAAT,IAAsB7E,KAAK,CAACyC,QAAN,CAAe,KAAf,CAA5B;;AACA,QAAMqC,MAAM,GAAG,MAAMD,SAAS,CAAC,CAACD,MAAF,CAA9B;;AACA,QAAMG,qBAAqB,GAAG,MAAMJ,QAAQ,CAAC,CAACD,KAAF,CAA5C;;AAEA,QAAMM,eAAe,GAAG/E,KAAK,CAACgF,MAAN,CAAa9E,gBAAgB,EAA7B,CAAxB;AACAD,EAAAA,UAAU,CAAC8E,eAAD,EAAkB5E,cAAc,EAAhC,CAAV;AAEA,QAAM;AAAE8E,IAAAA,QAAQ,EAAEC,eAAZ;AAA6BC,IAAAA,SAAS,EAAEC;AAAxC,MAA2D3E,cAAc,CAAC;AAC9E4E,IAAAA,EAAE,EAAE,mBAD0E;AAE9EC,IAAAA,gBAAgB,EAAElF,GAAG,CAACmF;AAFwD,GAAD,CAA/E;AAMAxF,EAAAA,KAAK,CAACyF,SAAN,CAAiB,MAAM;AAErBtC,IAAAA,QAAQ,CAAC,KAAD,CAAR,CAFqB,CAGrB;AACD,GAJD,EAIG,EAJH;AAMA,QAAMuC,gBAAgB,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,EAAyC,GAAzC,EAA8C,GAA9C,EAAmD,GAAnD,EAAwD,GAAxD,EAA6D,GAA7D,EAAkE,GAAlE,EAAuE,GAAvE,EAA4E,GAA5E,EAAiF,GAAjF,EAAsF,GAAtF,EAA2F,GAA3F,EAAgG,GAAhG,EACnB,GADmB,EACd,GADc,EACT,GADS,EACJ,GADI,EACC,GADD,EACM,GADN,CAAzB;;AAGA,WAASC,aAAT,CAAuBC,YAAvB,EAAoC;AAElC,QAAIC,QAAQ,GAAG,EAAf;AACA,QAAIC,SAAS,GAAG,EAAhB;AACA,QAAIC,sBAAsB,GAAG,EAA7B;AACA,QAAIC,gBAAgB,GAAG,EAAvB;AACA,QAAIC,cAAc,GAAG,CAArB;AAEAL,IAAAA,YAAY,CAACM,KAAb,GAAqBC,OAArB,GAA+BC,OAA/B,CAAuC,CAACC,WAAD,EAAcC,KAAd,KAAwB;AAC7D,UAAIR,SAAS,CAACS,QAAV,CAAmBF,WAAW,CAACG,KAA/B,MAA2C,KAA/C,EAAqD;AACnDV,QAAAA,SAAS,CAACW,IAAV,CAAeJ,WAAW,CAACG,KAA3B;AACAX,QAAAA,QAAQ,CAACS,KAAD,CAAR,GAAkBD,WAAW,CAACG,KAA9B;AACAT,QAAAA,sBAAsB,CAACM,WAAW,CAACG,KAAb,CAAtB,GAA4CP,cAA5C;AACAA,QAAAA,cAAc,IAAI,CAAlB;AACAD,QAAAA,gBAAgB,CAACK,WAAW,CAACG,KAAb,CAAhB,GAAsC,CAAtC;AACD,OAND,MAQAR,gBAAgB,CAACK,WAAW,CAACG,KAAb,CAAhB,IAAuC,CAAvC;AACD,KAVD;AAYA,WAAO,CAACX,QAAD,EAAWE,sBAAX,EAAmCC,gBAAnC,CAAP;AACD;;AAED,WAASU,MAAT,CAAgBC,KAAhB,EAAuBL,KAAvB,EAA8BM,IAA9B,EAAoC;AAClC,WAAOA,IAAI,CAACC,OAAL,CAAaF,KAAb,MAAwBL,KAA/B;AACD;;AAED,WAASQ,kBAAT,CAA4BlB,YAA5B,EAA0CmB,wBAA1C,EAAmE;AAEjE,QAAIC,aAAa,GAAG,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,CAApB;AAEA,QAAIC,MAAM,GAAGrB,YAAY,CAACM,KAAb,GAAqBC,OAArB,GAA+Be,GAA/B,CAAoCb,WAAD,IAAiB;AAC/D,aAAOA,WAAW,CAACG,KAAnB;AACD,KAFY,CAAb;AAIA,QAAIW,aAAa,GAAGF,MAAM,CAACG,MAAP,CAAcV,MAAd,CAApB;AACA,QAAIW,YAAY,GAAGL,aAAa,CAACE,GAAd,CAAkBI,KAAK,IAAIA,KAAK,GAAGH,aAAa,CAACI,MAAjD,CAAnB;AAEA,QAAIC,oBAAoB,GAAG,EAA3B;AACAL,IAAAA,aAAa,CAACf,OAAd,CAAsB,CAACI,KAAD,EAAQF,KAAR,KAAkB;AAEtC,UAAI,CAACmB,CAAD,EAAIC,CAAJ,EAAOC,CAAP,IAAWX,aAAf;AAEAQ,MAAAA,oBAAoB,CAAChB,KAAD,CAApB,GAA8B,CAACoB,IAAI,CAACC,IAAL,CAAUJ,CAAC,GAAGV,wBAAwB,CAACP,KAAD,CAAxB,GAAkCa,YAAY,CAAC,CAAD,CAA5D,CAAD,EAAmEO,IAAI,CAACC,IAAL,CAAUH,CAAC,GAAGX,wBAAwB,CAACP,KAAD,CAAxB,GAAkCa,YAAY,CAAC,CAAD,CAA5D,CAAnE,EAAqIO,IAAI,CAACC,IAAL,CAAUF,CAAC,GAAGZ,wBAAwB,CAACP,KAAD,CAAxB,GAAkCa,YAAY,CAAC,CAAD,CAA5D,CAArI,CAA9B;AAED,KAND;AAQA,WAAOG,oBAAP;AACD;;AAED,MAAIpD,oBAAoB,CAACmD,MAArB,GAA8B,CAAlC,EAAoC;AAElC,QAAI,CAACO,OAAD,EAAUC,oBAAV,EAAgCC,yBAAhC,IAA6DrC,aAAa,CAACvB,oBAAD,CAA9E;AACA,QAAI6D,UAAU,GAAGnB,kBAAkB,CAAC1C,oBAAD,EAAuB4D,yBAAvB,CAAnC;AACD;;AAED,QAAME,SAAS,GAAIC,IAAD,IAAU;AAC1B,WAAOA,IAAI,CAACC,WAAL,GACJC,KADI,CACE,GADF,EAEJnB,GAFI,CAECoB,IAAD,IAAU;AACb,aAAOA,IAAI,CAAC,CAAD,CAAJ,CAAQC,WAAR,KAAwBD,IAAI,CAACpC,KAAL,CAAW,CAAX,CAA/B;AACD,KAJI,EAIFsC,IAJE,CAIG,GAJH,CAAP;AAKD,GAND;;AAQA,QAAMC,SAAS,GAAIC,IAAD,IAAU;AAE1B,QAAIC,KAAK,GAAG,EAAZ;AAEAD,IAAAA,IAAI,CAACL,KAAL,CAAW,EAAX,EAAejC,OAAf,CAAwB,CAACwC,KAAD,EAAQtC,KAAR,KAAkB;AACxC,UAAIoC,IAAI,CAACpC,KAAD,CAAJ,eAAmBoC,IAAI,CAACpC,KAAD,CAAJ,CAAYiC,WAAZ,EAAnB,CAAJ,EAAmD;AACjDI,QAAAA,KAAK,CAAClC,IAAN,CAAWiC,IAAI,CAACpC,KAAD,CAAf;AAED;AACF,KALD;AAOAqC,IAAAA,KAAK,CAACvC,OAAN,CAAc,UAAUwC,KAAV,EAAiB;AAC7BF,MAAAA,IAAI,GAAGA,IAAI,CAACG,OAAL,WAAgBD,KAAhB,cAA6BA,KAAK,CAACR,WAAN,EAA7B,EAAP;AACD,KAFD;AAIA,WAAOF,SAAS,CAACQ,IAAD,CAAhB;AAED,GAjBD;;AAmBA,WAASI,KAAT,CAAgBC,IAAhB,EAAsB;AACpB,WAAO,IAAIC,OAAJ,CAAaC,OAAD,IAAaC,UAAU,CAACD,OAAD,EAAUF,IAAV,CAAnC,CAAP;AACD;;AAEC,WAASI,aAAT,CAAuBC,KAAvB,EAA6B;AAC7B,QAAIC,IAAJ;AACAA,IAAAA,IAAI,GAAGpH,yBAAyB,CAACmH,KAAD,CAAhC;;AAEA,QAAGC,IAAI,KAAK,cAAT,IAA2BD,KAAK,CAAC7B,MAAN,KAAiB,CAA/C,EAAiD;AAC/C,aAAO6B,KAAP;AACD;;AAAA;AACD,WAAOC,IAAP;AACF;;AAGA,QAAMC,gBAAgB,GAAG,MAAM;AAE7B,QAAIpF,aAAa,CAACqD,MAAd,GAAuB,CAA3B,EAA6B;AAE3BvC,MAAAA,eAAe,CAACuE,IAAhB,WAAwBlJ,GAAG,CAACmJ,UAA5B,6BAAyDtF,aAAzD,GAA0E5B,IAA1E,EAAgFmH,IAAhF,CAAqFC,GAAG,IAAI;AAE1F,YAAIC,aAAa,GAAG,EAApB;AACA,YAAIC,YAAY,GAAG,EAAnB;AAGA,YAAIC,oBAAoB,GAAG,CAAC,WAAD,EAAc,WAAd,EAA2B,YAA3B,EAAyC,UAAzC,EAAqD,aAArD,EAAoE,UAApE,EAAgF,aAAhF,CAA3B;;AACA,YAAKH,GAAG,CAACL,IAAJ,CAAS,aAAT,KAA6BQ,oBAAoB,CAACtD,QAArB,CAA8BmD,GAAG,CAACL,IAAJ,CAAS,aAAT,EAAwBjB,WAAxB,EAA9B,CAAlC,EAAuG;AACrG3D,UAAAA,YAAY,CAAC,IAAD,CAAZ;AACAF,UAAAA,cAAc,CAAC,4BAAD,CAAd;AACAV,UAAAA,eAAe,CAAC,KAAD,CAAf;AACA;AACD;;AAEDiG,QAAAA,MAAM,CAACC,OAAP,CAAeL,GAAG,CAACL,IAAnB,EAAyBjD,OAAzB,CAAiC,QAAkB;AAAA,cAAjB,CAAC4D,GAAD,EAAMrD,KAAN,CAAiB;;AAEjD,cAAIqD,GAAG,KAAK,OAAR,IAAmBA,GAAG,KAAK,aAA3B,IAA4CA,GAAG,KAAK,eAApD,IAAuEA,GAAG,KAAK,WAA/E,IACCA,GAAG,KAAK,KADT,IACkBA,GAAG,KAAK,WAD1B,IACyCA,GAAG,KAAK,SADjD,IAC8DA,GAAG,KAAK,aADtE,IACuFA,GAAG,KAAK,gBAD/F,IAECA,GAAG,KAAK,gBAFb,EAE8B;AAC1BL,YAAAA,aAAa,CAAClD,IAAd,CAAmB;AACjB,uBAAUuD,GAAG,GAAGvB,SAAS,CAACuB,GAAD,CAAZ,GAAoB,EADhB;AAEjB,uBAASrD,KAAK,GAAGA,KAAH,GAAW;AAFR,aAAnB;AAIH,WAPD,MAQK,IAAIqD,GAAG,KAAK,cAAZ,EAA2B;AAC9BF,YAAAA,MAAM,CAACC,OAAP,CAAepD,KAAf,EAAsBP,OAAtB,CAA8B,SAAoB;AAAA,kBAAnB,CAAC6D,IAAD,EAAOC,MAAP,CAAmB;;AAEhD,kBAAID,IAAI,KAAK,kBAAT,IAA+BA,IAAI,KAAK,6BAAxC,IAAyEA,IAAI,KAAK,sBAAtF,EAA6G;AAC3GN,gBAAAA,aAAa,CAAClD,IAAd,CAAmB;AACf,2BAAUwD,IAAI,GAAGxB,SAAS,CAACwB,IAAD,CAAZ,GAAqB,EADpB;AAEf,2BAASC,MAAM,GAAGA,MAAH,GAAY;AAFZ,iBAAnB;AAID,eALD,MAKK;AACHN,gBAAAA,YAAY,CAACnD,IAAb,CAAkB;AAChB,2BAAUwD,IAAI,GAAGxB,SAAS,CAACwB,IAAD,CAAZ,GAAqB,EADnB;AAEhB,2BAASC,MAAM,GAAGA,MAAH,GAAY;AAFX,iBAAlB;AAID;AACF,aAbD;AAcD,WAfI,MAgBA,IAAGF,GAAG,KAAK,WAAX,EAAuB;AAC1BF,YAAAA,MAAM,CAACC,OAAP,CAAepD,KAAf,EAAsBP,OAAtB,CAA8B,SAAoB;AAAA,kBAAnB,CAAC6D,IAAD,EAAOC,MAAP,CAAmB;AAChDN,cAAAA,YAAY,CAACnD,IAAb,CAAkB;AACd,yBAAUwD,IAAI,GAAGxB,SAAS,CAACwB,IAAD,CAAZ,GAAqB,EADrB;AAEd,yBAASC,MAAM,GAAGA,MAAH,GAAY;AAFb,eAAlB;AAID,aALD;AAMD,WAPI,MAQA,IAAGF,GAAG,KAAK,cAAX,EAA0B;AAC7BF,YAAAA,MAAM,CAACC,OAAP,CAAepD,KAAf,EAAsBP,OAAtB,CAA8B,SAAoB;AAAA,kBAAnB,CAAC6D,IAAD,EAAOC,MAAP,CAAmB;AAChDN,cAAAA,YAAY,CAACnD,IAAb,CAAkB;AACd,yBAAUwD,IAAI,GAAGxB,SAAS,CAACwB,IAAD,CAAZ,GAAqB,EADrB;AAEd,yBAASC,MAAM,GAAGA,MAAH,GAAY;AAFb,eAAlB;AAID,aALD;AAMD,WAPI,MAQA;AACHN,YAAAA,YAAY,CAACnD,IAAb,CAAkB;AAChB,uBAAUuD,GAAG,GAAGvB,SAAS,CAACuB,GAAD,CAAZ,GAAoB,EADjB;AAEhB,uBAASrD,KAAK,GAAGA,KAAH,GAAW;AAFT,aAAlB;AAID;AACF,SAhDD;AAkDA5C,QAAAA,eAAe,CAAC4F,aAAD,CAAf;AACA1F,QAAAA,cAAc,CAAC2F,YAAD,CAAd;AACA/F,QAAAA,eAAe,CAAC,IAAD,CAAf;AAED,OApED,EAoEGsG,KApEH,CAoESC,GAAG,IAAE;AACZ3F,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACAF,QAAAA,cAAc,CAAC,kBAAD,CAAd;AACAV,QAAAA,eAAe,CAAC,KAAD,CAAf;AACD,OAxED;AA0EAiF,MAAAA,KAAK,CAAC,IAAD,CAAL,CAAYW,IAAZ,CAAiB,MAAM;AAErBzE,QAAAA,eAAe,CAACuE,IAAhB,WAAwBlJ,GAAG,CAACmJ,UAA5B,8BAA0DtF,aAA1D,GAA2E5B,IAA3E,EAAiFmH,IAAjF,CAAsFC,GAAG,IAAI;AAE3F,cAAIA,GAAG,CAACL,IAAJ,CAAS9B,MAAT,GAAkB,CAAtB,EAAwB;AACtB,gBAAI8C,IAAI,GAAGX,GAAG,CAACL,IAAf;AAEAgB,YAAAA,IAAI,CAACjE,OAAL,CAAc,CAACkE,UAAD,EAAahE,KAAb,KAAuB;AACnC,kBAAI,CAAC+C,IAAD,EAAOkB,IAAP,IAAeD,UAAU,CAACE,YAAX,CAAwBnC,KAAxB,CAA8B,GAA9B,CAAnB;AACAgC,cAAAA,IAAI,CAAC/D,KAAD,CAAJ,CAAY,MAAZ,IAAsB+C,IAAtB;AACAgB,cAAAA,IAAI,CAAC/D,KAAD,CAAJ,CAAY,MAAZ,IAAsBiE,IAAtB;AACD,aAJD;AAKAlG,YAAAA,uBAAuB,CAACgG,IAAD,CAAvB;AACA1H,YAAAA,gBAAgB,CAAC;AAACC,cAAAA,GAAG,EAAEyH,IAAI,CAAC,CAAD,CAAJ,CAAQI,QAAd;AAAwB5H,cAAAA,GAAG,EAAEwH,IAAI,CAAC,CAAD,CAAJ,CAAQK;AAArC,aAAD,CAAhB;AACAjG,YAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,WAXD,MAYK;AACH9B,YAAAA,gBAAgB,CAAC;AAACC,cAAAA,GAAG,EAAE,CAAC,iBAAP;AAA0BC,cAAAA,GAAG,EAAE,CAAC;AAAhC,aAAD,CAAhB;AACAwB,YAAAA,uBAAuB,CAAC,EAAD,CAAvB;AACAd,YAAAA,eAAe,CAAC,KAAD,CAAf;AACAkB,YAAAA,YAAY,CAAC,KAAD,CAAZ;AACD;AACF,SApBD;AAsBD,OAxBD;AA0BD,KAtGD,MAuGI;AACFA,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACAF,MAAAA,cAAc,CAAC,oBAAD,CAAd;AACD;AACF,GA7GD;;AA+GA,MAAIvB,cAAJ,EAAoB;AAClBC,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAF,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACAuG,IAAAA,gBAAgB;AACjB;;AAED,QAAMqB,gBAAgB,GAAG,MAAM;AAC7BpH,IAAAA,eAAe,CAAC,KAAD,CAAf;AACAE,IAAAA,iBAAiB,CAAC,EAAD,CAAjB;AACAjB,IAAAA,OAAO,CAAC,EAAD,CAAP;AACD,GAJD;;AAMA,QAAMoI,eAAe,GAAIC,SAAD,IAAe;AACrC,WAAO,MAAM;AACXpH,MAAAA,iBAAiB,CAACoH,SAAS,CAACrE,KAAX,CAAjB;AACA7D,MAAAA,gBAAgB,CAAC;AAACC,QAAAA,GAAG,EAAGiI,SAAS,CAACJ,QAAjB;AAA4B5H,QAAAA,GAAG,EAAEgI,SAAS,CAACH;AAA3C,OAAD,CAAhB;AACArH,MAAAA,gBAAgB,CAAC;AACfgG,QAAAA,IAAI,EAAEwB,SAAS,CAACxB,IADD;AAEfkB,QAAAA,IAAI,EAAEM,SAAS,CAACN;AAFD,OAAD,CAAhB;AAIAhH,MAAAA,eAAe,CAAC,IAAD,CAAf;AACAf,MAAAA,OAAO,CAAC,EAAD,CAAP;AACD,KATD;AAUD,GAXD;;AAaA,sBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA,2BACE,QAAC,IAAD;AAAA,6BACE,QAAC,QAAD;AAAA,mBACC6C,cAAc,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADnB,EAEEF,eAAD,gBAAoB,QAAC,SAAD;AACjB,UAAA,iBAAiB,EAAEjD,cADF;AAEjB,UAAA,MAAM,EAAEQ,aAFS;AAGjB,UAAA,IAAI,EAAEH,IAHW;AAIjB,UAAA,OAAO,EAAEjC,UAJQ;AAAA,qBAMhB8D,oBAAoB,CAACmD,MAArB,GAA8B,CAA9B,IAAmCnD,oBAAoB,CAAC8B,KAArB,GAA6BC,OAA7B,GAAuCe,GAAvC,CAA2C,CAAC2D,SAAD,EAAYvE,KAAZ,KAAqB;AAElG,gBAAGwD,MAAM,CAACgB,IAAP,CAAYhD,OAAZ,EAAqBvB,QAArB,CAA8BD,KAAK,CAACyE,QAAN,EAA9B,CAAH,EAAmD;AAEjD,kCACE,QAAC,MAAD;AACE,gBAAA,OAAO,EAAE;AACPC,kBAAAA,IAAI,EAAE;AACJC,oBAAAA,GAAG,oFAA6EJ,SAAS,CAACrE,KAAV,KAAoB9C,eAApB,GAAqC,QAArC,GAA+C,QAA5H,CADC;AAEJwH,oBAAAA,UAAU,EAAE;AACV9I,sBAAAA,MAAM,EAAE,EADE;AAEVD,sBAAAA,KAAK,EAAE;AAFG;AAFR;AADC,iBADX;AAWE,gBAAA,MAAM,EAAE0I,SAAS,CAACrE,KAAV,KAAoB9C,eAApB,GAAqC,EAArC,GAAyCqE,oBAAoB,CAAC8C,SAAS,CAACrE,KAAX,CAXvE;AAaE,gBAAA,QAAQ,EAAE;AAAC5D,kBAAAA,GAAG,EAAEiI,SAAS,CAACJ,QAAhB;AAA0B5H,kBAAAA,GAAG,EAAEgI,SAAS,CAACH;AAAzC,iBAbZ;AAeE,gBAAA,OAAO,EAAEE,eAAe,CAACC,SAAD,CAf1B;AAgBE,gBAAA,KAAK,EACH;AAAC1C,kBAAAA,IAAI,EAAEzC,gBAAgB,CAACqC,oBAAoB,CAAC8C,SAAS,CAACrE,KAAX,CAArB,CAAvB;AACEc,kBAAAA,KAAK,EAAE,OADT;AAEE6D,kBAAAA,QAAQ,EAAE,QAFZ;AAGEC,kBAAAA,MAAM,EAAE;AAHV;AAjBJ,iBAcO9E,KAdP;AAAA;AAAA;AAAA;AAAA,sBADF;AA0BD,aA5BD,MA4BO;AACL,qBAAO,EAAP;AACD;AACF,WAjCmC,CANnB,EAyChBhD,YAAY,iBACb,QAAC,UAAD;AACE,YAAA,QAAQ,EAAEZ,aADZ;AAEE,YAAA,YAAY,EAAEiI,gBAFhB;AAAA,mCAIK;AAAK,cAAA,SAAS,EAAC,aAAf;AAAA,sCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,iBACmBvH,aAAa,CAACiG,IADjC,sBAC0C;AAAA;AAAA;AAAA;AAAA,sBAD1C,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFD,iBAEmBjG,aAAa,CAACmH,IAFjC,sBAE0C;AAAA;AAAA;AAAA;AAAA,sBAF1C,eAGG;AACE,gBAAA,IAAI,+CAAwC7H,aAAa,CAACE,GAAtD,cAA6DF,aAAa,CAACG,GAA3E,CADN;AACwF,gBAAA,MAAM,EAAC,QAD/F;AAEE,gBAAA,GAAG,EAAC,YAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAJL;AAAA;AAAA;AAAA;AAAA,kBA1CiB,eA0DjB,QAAC,GAAD;AAAA,mCACE,QAAC,GAAD;AAAK,cAAA,EAAE,EAAE,CAAT;AAAY,cAAA,EAAE,EAAE,CAAhB;AAAmB,cAAA,EAAE,EAAE,CAAvB;AAAA,qCACE,QAAC,IAAD;AAAM,gBAAA,SAAS,EAAC,uBAAhB;AAAwC,gBAAA,KAAK,EAAE;AAACT,kBAAAA,MAAM,EAAEwB,YAAY,GAAG,KAAH,GAAW,MAAhC;AAAwCyH,kBAAAA,mBAAmB,EAAE,KAA7D;AAAoEC,kBAAAA,oBAAoB,EAAE,KAA1F;AAAiGC,kBAAAA,sBAAsB,EAAE;AAAzH,iBAA/C;AAAA,wCACE,QAAC,UAAD;AAAY,kBAAA,KAAK,EAAE;AAACC,oBAAAA,OAAO,EAAE;AAAV,mBAAnB;AAAA,0CACE,QAAC,GAAD;AAAK,oBAAA,KAAK,EAAE;AAACC,sBAAAA,MAAM,EAAC;AAAR,qBAAZ;AAAA,4CACE,QAAC,GAAD;AAAK,sBAAA,KAAK,EAAE;AAACD,wBAAAA,OAAO,EAAC;AAAT,uBAAZ;AAAA,8CACE,QAAC,YAAD;AAAc,wBAAA,SAAS,EAAC,aAAxB;AAAsC,wBAAA,IAAI,EAAE;AAA5C;AAAA;AAAA;AAAA;AAAA,8BADF;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAKE,QAAC,GAAD;AAAK,sBAAA,KAAK,EAAE;AAACA,wBAAAA,OAAO,EAAC;AAAT;AAAZ;AAAA;AAAA;AAAA;AAAA,4BALF,eAQE;AAAQ,sBAAA,KAAK,EAAC,SAAd;AAAwB,sBAAA,OAAO,EAAE1G,MAAjC;AAAyC,sBAAA,KAAK,EAAE;AAAC4G,wBAAAA,eAAe,EAAC,OAAjB;AAA0BC,wBAAAA,KAAK,EAAC,KAAhC;AAAuCC,wBAAAA,MAAM,EAAE,KAA/C;AAAsDtE,wBAAAA,KAAK,EAAE,KAA7D;AAAoEkE,wBAAAA,OAAO,EAAE;AAA7E,uBAAhD;AAAA,sCAAuI5G,MAAM,gBAAE,QAAC,YAAD;AAAc,wBAAA,SAAS,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA,8BAAF,gBAAqC,QAAC,cAAD;AAAgB,wBAAA,SAAS,EAAC;AAA1B;AAAA;AAAA;AAAA;AAAA,8BAAlL;AAAA;AAAA;AAAA;AAAA;AAAA,4BARF;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAWI,CAACA,MAAD,iBAAY,QAAC,UAAD;AAAA,4CACZ,QAAC,KAAD;AAAO,sBAAA,OAAO,EAAEJ,SAAhB;AAA2B,sBAAA,IAAI,EAAC,QAAhC;AAAyC,sBAAA,WAAW,EAAC,gBAArD;AAAsE,sBAAA,QAAQ,EAAEqH,CAAC,IAAI1H,gBAAgB,CAAC0H,CAAC,CAACC,MAAF,CAASnF,KAAV;AAArG;AAAA;AAAA;AAAA;AAAA,4BADY,eAEZ,QAAC,MAAD;AAAQ,sBAAA,KAAK,EAAC,SAAd;AAAwB,sBAAA,OAAO,EAAE2C,gBAAjC;AAAA,6CACE,QAAC,YAAD;AAAc,wBAAA,SAAS,EAAC,aAAxB;AAAsC,wBAAA,IAAI,EAAE;AAA5C;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,4BAFY,EAKX9E,SAAS,iBAAI,QAAC,YAAD;AAAA,gCACXF;AADW;AAAA;AAAA;AAAA;AAAA,4BALF;AAAA;AAAA;AAAA;AAAA;AAAA,0BAXhB,eAoBI;AAAA;AAAA;AAAA;AAAA,0BApBJ,EAqBKV,YAAY,IAAI,CAACgB,MAAjB,IAA2B,kBArBhC;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAwBGhB,YAAY,IAAI,CAACgB,MAAjB,iBAA2B,QAAC,QAAD;AAAU,kBAAA,KAAK,EAAC,QAAhB;AAAyB,kBAAA,KAAK,EAAE;AAACmH,oBAAAA,SAAS,EAAE,OAAZ;AAAqBC,oBAAAA,SAAS,EAAE;AAAhC,mBAAhC;AAAA,0CAC1B,QAAC,SAAD;AAAA,8BACGlI,YAAY,CAACoD,GAAb,CAAiB,CAAC+E,KAAD,EAAQ3F,KAAR,kBAClB,QAAC,aAAD;AAA6B,sBAAA,SAAS,EAAC,yBAAvC;AAAA,6CACI,QAAC,GAAD;AAAA,gDACE,QAAC,GAAD;AAAA,iDACE;AAAA,sCAAI2F,KAAK,CAACC;AAAV;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gCADF,eAIE,QAAC,GAAD;AAAA,oCACG/C,aAAa,CAAC8C,KAAK,CAAC7C,KAAP;AADhB;AAAA;AAAA;AAAA;AAAA,gCAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,uBAAsB9C,KAAtB;AAAA;AAAA;AAAA;AAAA,4BADC;AADH;AAAA;AAAA;AAAA;AAAA,0BAD0B,eAe1B;AAAA;AAAA;AAAA;AAAA,0BAf0B,eAgB1B,QAAC,MAAD;AAAQ,oBAAA,KAAK,EAAC,SAAd;AAAwB,oBAAA,SAAS,EAAC,QAAlC;AAA2C,oBAAA,OAAO,EAAEvB,qBAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAhB0B,eAmB1B,QAAC,KAAD;AAAO,oBAAA,MAAM,EAAEL,KAAf;AAAsB,oBAAA,MAAM,EAAEK,qBAA9B;AAAA,4CACE,QAAC,WAAD;AAAa,sBAAA,MAAM,EAAEA,qBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAEE,QAAC,SAAD;AAAW,sBAAA,KAAK,EAAE;AAAEoH,wBAAAA,cAAc,EAAE,QAAlB;AAA4BC,wBAAAA,YAAY,EAAE,QAA1C;AAAoDC,wBAAAA,OAAO,EAAE;AAA7D,uBAAlB;AAAA,6CACE,QAAC,SAAD;AAAA,kCACGrI,WAAW,CAACkD,GAAZ,CAAgB,CAAC+E,KAAD,EAAQ3F,KAAR,kBACjB,QAAC,aAAD;AAA6B,0BAAA,SAAS,EAAC,yBAAvC;AAAA,iDACI,QAAC,GAAD;AAAA,oDACE,QAAC,GAAD;AAAA,qDACE;AAAA,0CAAI2F,KAAK,CAACC;AAAV;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oCADF,eAIE,QAAC,GAAD;AAAA,wCACG/C,aAAa,CAAC8C,KAAK,CAAC7C,KAAP;AADhB;AAAA;AAAA;AAAA;AAAA,oCAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,2BAAsB9C,KAAtB;AAAA;AAAA;AAAA;AAAA,gCADC;AADH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,4BAFF;AAAA;AAAA;AAAA;AAAA;AAAA,0BAnB0B;AAAA;AAAA;AAAA;AAAA;AAAA,wBAxB9B;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBA1DiB,eA2IjB,qCA3IiB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAApB,GA4IgB,EA9IjB,eA+IA;AAAA,kCACE;AAAM,YAAA,KAAK,EAAE;AAACgB,cAAAA,KAAK,EAAE,SAAR;AAAmB6D,cAAAA,QAAQ,EAAE;AAA7B,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eACkE;AAAM,YAAA,KAAK,EAAE;AAAC7D,cAAAA,KAAK,EAAE,SAAR;AAAmB6D,cAAAA,QAAQ,EAAE;AAA7B,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADlE;AAAA,wBA/IA,EAkJG/G,oBAAoB,CAACmD,MAArB,GAA8B,CAA9B,iBACC;AAAA,iCACE,QAAC,GAAD;AAAK,YAAA,KAAK,EAAE;AAAC+E,cAAAA,SAAS,EAAE;AAAZ,aAAZ;AAAA,mCACE,QAAC,GAAD;AAAK,cAAA,SAAS,EAAC,8CAAf;AAAA,oEAC0BpI,aAD1B;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF,yBAnJJ,EA2JGE,oBAAoB,CAACmD,MAArB,GAA8B,CAA9B,iBACC,QAAC,GAAD;AAAA,iCACE,QAAC,GAAD;AAAA,mCACE,QAAC,KAAD;AAAO,cAAA,UAAU,MAAjB;AAAkB,cAAA,KAAK,MAAvB;AAAA,sCACE;AAAO,gBAAA,SAAS,EAAC,cAAjB;AAAA,uCACE;AAAI,kBAAA,KAAK,EAAE;AAACgF,oBAAAA,SAAS,EAAE;AAAZ,mBAAX;AAAA,0CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eASE;AAAA,0BACCnI,oBAAoB,CAAC8B,KAArB,GAA6BgB,GAA7B,CAAiC,CAAC2D,SAAD,EAAYvE,KAAZ,KAAsB;AAEtD,sBAAGuE,SAAS,CAACrE,KAAV,KAAoBhD,cAAvB,EAAsC;AACpC,wCACE;AAAI,sBAAA,OAAO,EAAEoH,eAAe,CAACC,SAAD,CAA5B;AAAyC,sBAAA,KAAK,EAAE;AAACa,wBAAAA,eAAe,EAAG,0BAAnB;AAA+Ca,wBAAAA,SAAS,EAAE;AAA1D,uBAAhD;AAAA,8CACE;AAAA,kCAAKjG,KAAK,GAAG;AAAb;AAAA;AAAA;AAAA;AAAA,8BADF,eAEE;AAAA,4CAAQuE,SAAS,CAACxB,IAAlB,cAA0BwB,SAAS,CAACN,IAApC;AAAA;AAAA;AAAA;AAAA;AAAA,8BAFF,eAGE;AAAA,kCAAKM,SAAS,CAACrE;AAAf;AAAA;AAAA;AAAA;AAAA,8BAHF,eAIE;AAAA,kCAAKd,gBAAgB,CAACqC,oBAAoB,CAAC8C,SAAS,CAACrE,KAAX,CAArB;AAArB;AAAA;AAAA;AAAA;AAAA,8BAJF;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF;AAQD,mBATD,MASK;AACH,wCACE;AAAI,sBAAA,OAAO,EAAEoE,eAAe,CAACC,SAAD,CAA5B;AAAyC,sBAAA,KAAK,EAAE;AAAC0B,wBAAAA,SAAS,EAAE;AAAZ,uBAAhD;AAAuE,sBAAA,WAAW,EAAG,MAAM;AAAC5I,wBAAAA,iBAAiB,CAACkH,SAAS,CAACrE,KAAX,CAAjB;AAAmC,uBAA/H;AAAiI,sBAAA,UAAU,EAAG,MAAM;AAAC7C,wBAAAA,iBAAiB,CAAC,EAAD,CAAjB;AAAsB,uBAA3K;AAAA,8CACE;AAAA,kCAAK2C,KAAK,GAAG;AAAb;AAAA;AAAA;AAAA;AAAA,8BADF,eAEE;AAAA,4CAAQuE,SAAS,CAACxB,IAAlB,cAA0BwB,SAAS,CAACN,IAApC;AAAA;AAAA;AAAA;AAAA;AAAA,8BAFF,eAGE;AAAA,kCACGM,SAAS,CAACrE;AADb;AAAA;AAAA;AAAA;AAAA,8BAHF,eAME;AAAI,wBAAA,KAAK,EAAE;AAACkF,0BAAAA,eAAe,iBAAWzD,UAAU,CAAC4C,SAAS,CAACrE,KAAX,CAAV,CAA4B,CAA5B,CAAX,eAA8CyB,UAAU,CAAC4C,SAAS,CAACrE,KAAX,CAAV,CAA4B,CAA5B,CAA9C,eAAiFyB,UAAU,CAAC4C,SAAS,CAACrE,KAAX,CAAV,CAA4B,CAA5B,CAAjF,WAAhB;AAAyIc,0BAAAA,KAAK,EAAE;AAAhJ,yBAAX;AAAA,kCAAsK5B,gBAAgB,CAACqC,oBAAoB,CAAC8C,SAAS,CAACrE,KAAX,CAArB;AAAtL;AAAA;AAAA;AAAA;AAAA,8BANF;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF;AAUD;AACA,iBAvBF;AADD;AAAA;AAAA;AAAA;AAAA,sBATF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBA5JJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA4MD;;GAzeuBnE,Y;UAoC2C3B,c;;;KApC3C2B,Y","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport axiosRetry from 'axios-retry';\r\nimport { getTimeoutConfig } from \"axios/AxiosUtils\";\r\nimport { getRetryConfig } from \"axios/AxiosUtils\";\r\nimport env from 'common/enviroment.js';\r\nimport mapOptions from 'common/mapOptions.js'\r\nimport { GoogleMap, Marker, InfoWindow} from '@react-google-maps/api';\r\nimport { useJsApiLoader } from '@react-google-maps/api';\r\n\r\n//import 'bootstrap/dist/css/bootstrap.css';\r\nimport {RiSearchLine} from 'react-icons/ri'\r\n\r\n\r\nimport { VehicleContext } from 'context/VehicleContext';\r\nimport { NavigationContext } from 'context/NavigationContext'\r\n\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  ListGroup,\r\n  ListGroupItem,\r\n  Col, Row,\r\n  Button,\r\n  Input, InputGroup,\r\n  CardHeader,\r\n  Modal, ModalBody, ModalHeader,\r\n  FormFeedback,\r\n  Table\r\n} from 'reactstrap';\r\n\r\nimport {FiChevronsDown, FiChevronsUp} from 'react-icons/fi'\r\nimport { getCortexToken } from 'common/SessionUtils';\r\nimport { getUserRole } from 'common/SessionUtils';\r\nimport { convertUtcToBrazilianDate } from 'common/utils/validate';\r\n\r\nconst containerStyle = {\r\n  width: 'auto',\r\n  height: '600px'\r\n};\r\n\r\nexport default function InfoVehicles() {\r\n\r\n  const body = {\r\n    'cortex_token': getCortexToken(),\r\n    'role': getUserRole()\r\n  }\r\n\r\n  const [zoom, setZoom] = React.useState(11)\r\n  const [cordInfoWindo, setCordInfoWindo] =  React.useState(\r\n    {lat: -7.254653852199306, \r\n    lng: -36.69661154766497}\r\n  )\r\n\r\n  //const [muda, setmuda] = React.useState(true)\r\n  const {placa, setplaca, toVehicleRoute ,setoVehicleRoute} = React.useContext(VehicleContext)\r\n  const {setIsMap} = React.useContext(NavigationContext);\r\n  const [dataInfoWindo, setdataInfoWindo] = React.useState({})\r\n  const [isInfoActive, setisInfoActive] = React.useState(false)\r\n  const [selectedMarker, setselectedMarker] = React.useState('')\r\n  const [mouseOverMarker, setMouseOverMarer] = React.useState('')\r\n  const [isDataActive, setisDataActive] = React.useState(false)\r\n  const [dataConsulta, setdataConsulta] = React.useState([])\r\n  const [dataVerMais, setdataVermais] = React.useState([])\r\n  const [placaConsulta, setplacaConsulta] = React.useState(placa)\r\n  const [localizacoesConsulta, setlocalizacoesConsulta] = React.useState([])\r\n  const [invalidText, setinvalidText] = React.useState('')\r\n  const [isInvalid, setisInvalid] = React.useState(false)\r\n\r\n  const [modal, setModal] = React.useState(false);\r\n  const [isOpen, setIsOpen] = React.useState(false)\r\n  const toggle = () => setIsOpen(!isOpen);\r\n  const toggleMoreInformation = () => setModal(!modal)\r\n\r\n  const axiosRetryProxy = axios.create(getTimeoutConfig())\r\n  axiosRetry(axiosRetryProxy, getRetryConfig())\r\n\r\n  const { isLoaded: googleMapLoaded, loadError: googleMapError } = useJsApiLoader({\r\n    id: 'google-map-script',\r\n    googleMapsApiKey: env.googleApiKey\r\n  })\r\n\r\n\r\n  React.useEffect (() => {\r\n  \r\n    setIsMap(false)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  const labels_to_marker = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T',\r\n        'U', 'V', 'X', 'W', 'Y', 'Z']\r\n\r\n  function counterMarker(localizacoes){\r\n\r\n    let contador = {}\r\n    let verificar = []\r\n    let index_to_labels_marker = {}\r\n    let markers_contador = {}\r\n    let index_to_label = 0\r\n\r\n    localizacoes.slice().reverse().forEach((localizacao, index) => {\r\n      if (verificar.includes(localizacao.local)  === false){\r\n        verificar.push(localizacao.local)\r\n        contador[index] = localizacao.local\r\n        index_to_labels_marker[localizacao.local] = index_to_label\r\n        index_to_label += 1\r\n        markers_contador[localizacao.local] = 1\r\n      }\r\n      else\r\n      markers_contador[localizacao.local] += 1\r\n    })\r\n\r\n    return [contador, index_to_labels_marker, markers_contador]\r\n  }\r\n\r\n  function unique(value, index, self) { \r\n    return self.indexOf(value) === index;\r\n  }\r\n\r\n  function createMarkerColors(localizacoes, counter_of_each_location){\r\n\r\n    let inicial_color = [78, 124, 255]\r\n\r\n    let locais = localizacoes.slice().reverse().map((localizacao) => {\r\n      return localizacao.local\r\n    })\r\n\r\n    let locais_unicos = locais.filter(unique)\r\n    let change_color = inicial_color.map(color => color / locais_unicos.length)\r\n\r\n    let locais_unicos_colors = {}\r\n    locais_unicos.forEach((local, index) => {\r\n\r\n      let [R, G, B]= inicial_color\r\n\r\n      locais_unicos_colors[local] = [Math.ceil(R - counter_of_each_location[local] * change_color[0]), Math.ceil(G - counter_of_each_location[local] * change_color[1]), Math.ceil(B - counter_of_each_location[local] * change_color[2])]\r\n\r\n    })\r\n  \r\n    return locais_unicos_colors\r\n  }\r\n\r\n  if (localizacoesConsulta.length > 0){\r\n\r\n    var [counter, markers_index_labels, counter_locations_markers] = counterMarker(localizacoesConsulta)\r\n    var all_colors = createMarkerColors(localizacoesConsulta, counter_locations_markers)\r\n  }\r\n\r\n  const titleCase = (text) => {\r\n    return text.toLowerCase()\r\n      .split(' ')\r\n      .map((word) => {\r\n        return word[0].toUpperCase() + word.slice(1);\r\n      }).join(' ')\r\n  }\r\n  \r\n  const ChangeKey = (nome) => {\r\n  \r\n    let mudar = []\r\n  \r\n    nome.split('').forEach( (letra, index) => {\r\n      if (nome[index] === `${nome[index].toUpperCase()}`){\r\n        mudar.push(nome[index])\r\n        \r\n      }\r\n    })\r\n  \r\n    mudar.forEach(function (letra) {\r\n      nome = nome.replace(`${letra}`, ` ${letra.toLowerCase()}`)\r\n    })\r\n  \r\n    return titleCase(nome)\r\n  \r\n  }\r\n\r\n  function sleep (time) {\r\n    return new Promise((resolve) => setTimeout(resolve, time));\r\n  }\r\n  \r\n    function DataFormatada(valor){\r\n    let data;\r\n    data = convertUtcToBrazilianDate(valor)\r\n    \r\n    if(data === \"Invalid Date\" || valor.length === 4){\r\n      return valor\r\n    };\r\n    return data\r\n }\r\n\r\n\r\n  const ConsultarVeiculo = () => {\r\n\r\n    if (placaConsulta.length > 0){\r\n\r\n      axiosRetryProxy.post(`${env.apiAddress}/cortex/license/${placaConsulta}`, body).then(res => {\r\n        \r\n        let data_consulta = []\r\n        let data_vermais = []\r\n\r\n\r\n        let NOT_ALLOWED_VEHICLES = [\"automóvel\", \"automovel\", \"ciclomotor\", \"motoneta\", \"motocicleta\", \"triciclo\", \"quadriciclo\"]\r\n        if ( res.data['tipoVeiculo'] &&   NOT_ALLOWED_VEHICLES.includes(res.data['tipoVeiculo'].toLowerCase())){\r\n          setisInvalid(true)\r\n          setinvalidText('Não é um veículo de carga!')\r\n          setisDataActive(false)\r\n          return\r\n        }\r\n\r\n        Object.entries(res.data).forEach(([key, value]) => {\r\n\r\n          if (key === \"placa\" || key === \"marcaModelo\" || key === \"anoFabricacao\" || key === \"anoModelo\" \r\n            || key === \"cor\" || key === \"categoria\" || key === \"especie\" || key === \"tipoVeiculo\" || key === \"ufEmplacamento\"\r\n            || key === \"municipioPlaca\"){\r\n              data_consulta.push({\r\n                \"chave\":  key ? ChangeKey(key) : '',\r\n                \"valor\": value ? value : ''\r\n              })\r\n          }\r\n          else if (key === \"proprietario\"){\r\n            Object.entries(value).forEach(([key2, value2]) => {\r\n    \r\n              if (key2 === \"nomeProprietario\" || key2 === \"numeroDocumentoProprietario\" || key2 === \"enderecoProprietario\"){\r\n                data_consulta.push({\r\n                    \"chave\":  key2 ? ChangeKey(key2) : '',\r\n                    \"valor\": value2 ? value2 : ''\r\n                })\r\n              }else{\r\n                data_vermais.push({\r\n                  \"chave\":  key2 ? ChangeKey(key2) : '',\r\n                  \"valor\": value2 ? value2 : ''\r\n                })\r\n              } \r\n            });\r\n          }\r\n          else if(key === \"possuidor\"){\r\n            Object.entries(value).forEach(([key2, value2]) => {\r\n              data_vermais.push({\r\n                  \"chave\":  key2 ? ChangeKey(key2) : '',\r\n                  \"valor\": value2 ? value2 : ''\r\n              })\r\n            });\r\n          }\r\n          else if(key === \"arrendatario\"){\r\n            Object.entries(value).forEach(([key2, value2]) => {\r\n              data_vermais.push({\r\n                  \"chave\":  key2 ? ChangeKey(key2) : '',\r\n                  \"valor\": value2 ? value2 : ''\r\n              })\r\n            });\r\n          }\r\n          else {\r\n            data_vermais.push({\r\n              \"chave\":  key ? ChangeKey(key) : '',\r\n              \"valor\": value ? value : ''\r\n            })\r\n          }\r\n        })\r\n      \r\n        setdataConsulta(data_consulta)\r\n        setdataVermais(data_vermais)\r\n        setisDataActive(true)\r\n\r\n      }).catch(err=>{\r\n        setisInvalid(true)\r\n        setinvalidText('Placa inválida !')\r\n        setisDataActive(false)\r\n      })\r\n      \r\n      sleep(2000).then(() => {\r\n\r\n        axiosRetryProxy.post(`${env.apiAddress}/cortex/location/${placaConsulta}`, body).then(res => {\r\n\r\n          if (res.data.length > 0){\r\n            let Data = res.data\r\n        \r\n            Data.forEach( (movimentos, index) => {\r\n              let [data, hora] = movimentos.dataPassagem.split(\" \")\r\n              Data[index][\"data\"] = data\r\n              Data[index][\"hora\"] = hora\r\n            })\r\n            setlocalizacoesConsulta(Data)\r\n            setCordInfoWindo({lat: Data[0].latitude, lng: Data[0].longitude})\r\n            setisInvalid(false)\r\n          }\r\n          else {\r\n            setCordInfoWindo({lat: -7.254653852199306, lng: -36.69661154766497})\r\n            setlocalizacoesConsulta([])\r\n            setisInfoActive(false)\r\n            setisInvalid(false)\r\n          }\r\n        })\r\n        \r\n      });\r\n\r\n    }\r\n    else{\r\n      setisInvalid(true)\r\n      setinvalidText('Digite uma placa !')\r\n    }\r\n  }\r\n  \r\n  if (toVehicleRoute) {\r\n    setoVehicleRoute(false)\r\n    setplaca('')\r\n    ConsultarVeiculo()\r\n  }\r\n  \r\n  const OnCloseInfoWindo = () => {\r\n    setisInfoActive(false)\r\n    setselectedMarker('')\r\n    setZoom(11)\r\n  }\r\n\r\n  const ChangeInfoWindo = (movimento) => {\r\n    return () => {\r\n      setselectedMarker(movimento.local)\r\n      setCordInfoWindo({lat: (movimento.latitude), lng: movimento.longitude})\r\n      setdataInfoWindo({\r\n        data: movimento.data,\r\n        hora: movimento.hora \r\n      })\r\n      setisInfoActive(true)\r\n      setZoom(13)\r\n    }\r\n  } \r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <Card> \r\n        <CardBody>\r\n        {googleMapError && <div>Não foi possível carregar o GoogleMap.</div>}\r\n        {(googleMapLoaded) ? <GoogleMap\r\n            mapContainerStyle={containerStyle}\r\n            center={cordInfoWindo}\r\n            zoom={zoom}\r\n            options={mapOptions}\r\n          >\r\n            {localizacoesConsulta.length > 0 && localizacoesConsulta.slice().reverse().map((movimento, index) =>{\r\n\r\n              if(Object.keys(counter).includes(index.toString())){\r\n\r\n                return (\r\n                  <Marker\r\n                    options={{\r\n                      icon: {\r\n                        url: `http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|${movimento.local === mouseOverMarker? '00FF00': 'ff0000'}`,\r\n                        scaledSize: {\r\n                          height: 42,\r\n                          width: 27\r\n                        }\r\n                      }\r\n                    }}\r\n\r\n                    zIndex={movimento.local === mouseOverMarker? 13: markers_index_labels[movimento.local]}\r\n                  \r\n                    position={{lat: movimento.latitude, lng: movimento.longitude}} \r\n                    key={index}\r\n                    onClick={ChangeInfoWindo(movimento)}\r\n                    label = {\r\n                      {text: labels_to_marker[markers_index_labels[movimento.local]], \r\n                        color: \"white\",\r\n                        fontSize: '0.9rem',\r\n                        bottom: 12,\r\n                      }\r\n                    }\r\n                  />\r\n                )\r\n              } else {\r\n                return \"\"\r\n              }\r\n            })}\r\n\r\n            {isInfoActive &&\r\n            <InfoWindow\r\n              position={cordInfoWindo}\r\n              onCloseClick={OnCloseInfoWindo}\r\n              >\r\n                {<div className=\"text-center\">\r\n                  <b>Data: </b> {`${dataInfoWindo.data}\\n`}<br/>\r\n                  <b>Hora: </b> {`${dataInfoWindo.hora}\\n`}<br/>\r\n                    <a \r\n                      href={`https://www.google.com/maps/search/${cordInfoWindo.lat},${cordInfoWindo.lng}`} target=\"_blank\"\r\n                      rel=\"noreferrer\"\r\n                      >\r\n                      Google Maps\r\n                      </a>  \r\n                </div>}\r\n            </InfoWindow>\r\n            }\r\n            <Row>\r\n              <Col md={5} lg={5} sm={6}>\r\n                <Card className=\"border-secondary mb-3\" style={{height: isDataActive ? '60%' : '100%', borderTopLeftRadius: '0px', borderTopRightRadius: '0px', borderBottomLeftRadius: '0px'}}>\r\n                  <CardHeader style={{padding: '0px 15px 0px 0px'}}>\r\n                    <Row style={{margin:'10px 0px 15px 0px'}}>\r\n                      <Col style={{padding:'0px'}}>\r\n                        <RiSearchLine className=\"footer-icon\" size={20}/> Consulta\r\n  \r\n                      </Col>\r\n                      <Col style={{padding:'0px'}}>\r\n                      \r\n                      </Col>\r\n                      <button color=\"primary\" onClick={toggle} style={{backgroundColor:'White', hover:'red', border: '0px', color: 'red', padding: '0px'}}> {isOpen? <FiChevronsUp className='close'/>: <FiChevronsDown className='close'/>}</button>\r\n                    </Row>\r\n                    { !isOpen &&  <InputGroup>\r\n                      <Input invalid={isInvalid} type=\"search\" placeholder=\"Digite a placa\" onChange={e => setplacaConsulta(e.target.value)}/>\r\n                      <Button color=\"primary\" onClick={ConsultarVeiculo}>\r\n                        <RiSearchLine className=\"footer-icon\" size={15}/>\r\n                      </Button>\r\n                      {isInvalid && <FormFeedback>\r\n                        {invalidText}\r\n                      </FormFeedback>}\r\n                    </InputGroup>}\r\n                      <hr></hr>\r\n                      {isDataActive && !isOpen && \"Dados do Veículo\"}\r\n                  </CardHeader>\r\n                  {isDataActive && !isOpen && <CardBody color=\"sucess\" style={{maxHeight: '700px', overflowY: 'auto'}}>\r\n                    <ListGroup>          \r\n                      {dataConsulta.map((dados, index) => (\r\n                      <ListGroupItem key = {index} className=\"justify-content-between\">\r\n                          <Row>\r\n                            <Col>\r\n                              <b>{dados.chave}</b>\r\n                            </Col>\r\n                            <Col>\r\n                              {DataFormatada(dados.valor)}\r\n                            </Col>\r\n                          </Row>\r\n                        </ListGroupItem>\r\n                      ))}\r\n                    </ListGroup>\r\n                    <hr></hr>\r\n                    <Button color=\"primary\" className=\"btn-md\" onClick={toggleMoreInformation}>\r\n                      Mais Informações\r\n                    </Button>\r\n                    <Modal isOpen={modal} toggle={toggleMoreInformation}>\r\n                      <ModalHeader toggle={toggleMoreInformation}>Informações Adicionais</ModalHeader>\r\n                      <ModalBody style={{ justifyContent: 'center', alignContent: 'center', display: 'flex' }}>\r\n                        <ListGroup>\r\n                          {dataVerMais.map((dados, index) => (\r\n                          <ListGroupItem key = {index} className=\"justify-content-between\">\r\n                              <Row>\r\n                                <Col>\r\n                                  <b>{dados.chave}</b>\r\n                                </Col>\r\n                                <Col>\r\n                                  {DataFormatada(dados.valor)}\r\n                                </Col>\r\n                              </Row>\r\n                            </ListGroupItem>\r\n                          ))}\r\n                        </ListGroup>\r\n                      </ModalBody>\r\n                    </Modal>\r\n                  </CardBody>}\r\n                  {/*isDataActive && <CardFooter>\r\n                    <Row>\r\n                      <Col>\r\n                        Últimas Posições\r\n                      </Col>\r\n                      <Col className=\"justify-content-end\">\r\n                        <Button color=\"primary\" className=\"btn-sm\">\r\n                          <RiDownloadLine className=\"footer-icon\" size={15}/>\r\n                        </Button>\r\n                      </Col>\r\n                    </Row>\r\n                          </CardFooter> */}\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n            { /* Child components, such as markers, info windows, etc. */ }\r\n            <></>\r\n          </GoogleMap> : \"\"}\r\n        <>\r\n          <font style={{color: '#ff0000', fontSize: '1.2em'}}>Obs: </font><font style={{color: '#51cbce', fontSize: '1.2em'}}>Fonte de dados do Sistema Córtex</font>\r\n        </>\r\n          {localizacoesConsulta.length > 0 &&\r\n            <>\r\n              <Row style={{marginTop: '10px'}}>\r\n                <Col className='text-primary text-uppercase font-weight-bold'>\r\n                  Últimas posições - {` ${placaConsulta}`}              \r\n                </Col>\r\n              </Row>\r\n            </>\r\n          }\r\n          {localizacoesConsulta.length > 0 &&\r\n            <Row>\r\n              <Col>\r\n                <Table responsive hover>\r\n                  <thead className='text-primary'>\r\n                    <tr style={{textAlign: 'center'}}>\r\n                      <th>#</th>\r\n                      <th>Data/Hora</th>\r\n                      <th>Local</th>\r\n                      <th>Identificador</th>\r\n                    </tr>          \r\n                  </thead>\r\n                  <tbody>\r\n                  {localizacoesConsulta.slice().map((movimento, index) => {\r\n\r\n                    if(movimento.local === selectedMarker){\r\n                      return (\r\n                        <tr onClick={ChangeInfoWindo(movimento)} style={{backgroundColor:  'rgba(128, 128, 128, 0.7)', textAlign: 'center'}}>\r\n                          <td>{index + 1}</td>\r\n                          <td>{`${movimento.data} ${movimento.hora}`}</td>\r\n                          <td>{movimento.local}</td>\r\n                          <td>{labels_to_marker[markers_index_labels[movimento.local]]}</td>\r\n                        </tr>\r\n                        )\r\n                    }else{\r\n                      return (\r\n                        <tr onClick={ChangeInfoWindo(movimento)} style={{textAlign: 'center'}} onMouseOver={ () => {setMouseOverMarer(movimento.local)}} onMouseOut={ () => {setMouseOverMarer('')}}>\r\n                          <td>{index + 1}</td>\r\n                          <td>{`${movimento.data} ${movimento.hora}`}</td>\r\n                          <td>\r\n                            {movimento.local}\r\n                          </td>\r\n                          <td style={{backgroundColor:  `rgba(${all_colors[movimento.local][0]}, ${all_colors[movimento.local][1]}, ${all_colors[movimento.local][2]}, 0.7)`, color: 'white'}}>{labels_to_marker[markers_index_labels[movimento.local]]}</td>\r\n                        </tr>\r\n                        )\r\n                    }\r\n                    })\r\n                  }\r\n                  </tbody>\r\n                </Table>  \r\n              </Col>\r\n            </Row>}             \r\n        </CardBody>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}