{"ast":null,"code":"import { isEmpty } from \"common/utils/collections\";\nimport { mountClosingDateText } from \"common/utils/forms\";\nconst STATUS_ENUM = {\n  \"CRIADO\": 1,\n  \"ATUALIZADO\": 2,\n  \"REMOVIDO\": 3,\n  \"IMPORTATED\": 4,\n  \"ACTIVE\": 13,\n  \"PAUSED\": 15\n};\nexport default STATUS_ENUM;\nexport function isCreated(status) {\n  return status === STATUS_ENUM.CRIADO;\n}\nexport function isPaused(status) {\n  return status === STATUS_ENUM.PAUSED;\n}\nexport function isActive(status) {\n  return status === STATUS_ENUM.ACTIVE;\n}\nexport function isClosed(value) {\n  let date = value;\n\n  if (typeof value === 'object') {\n    date = value['data_fechamento'];\n  }\n\n  let closingDate = new Date(date);\n  let now = new Date();\n  return now > closingDate;\n}\nexport function getConfigStatusLabel(warning) {\n  if (!warning || isEmpty(warning['id_config'])) return \"\";\n  let closingDate = new Date(warning['data_fechamento']);\n  let pauseDate = new Date(warning['config_pause_timestamp']);\n  let now = new Date();\n  let closingDateMessage = mountClosingDateText(closingDate);\n\n  if (now > closingDate) {\n    return \"Encerrada\";\n  } else if (pauseDate && pauseDate > now) {\n    let difference = pauseDate.getTime() - now.getTime();\n    let totalHours = Math.floor(difference / (1000 * 3600));\n    difference %= 1000 * 3600;\n    let totalMinutes = Math.ceil(difference / (1000 * 60));\n    let aux = totalHours > 0 ? \"\".concat(totalHours, \"h \") : '';\n    aux += totalMinutes > 0 ? \"\".concat(totalMinutes, \"min \") : '';\n    return \"Suspenso por \" + aux;\n  } else if (closingDateMessage) {\n    return \"Ativo (\" + closingDateMessage + \")\";\n  } else {\n    return \"Ativo\";\n  }\n}","map":{"version":3,"sources":["C:/aria/cicc-app/front-end/src/common/enumerators/StatusEnum.js"],"names":["isEmpty","mountClosingDateText","STATUS_ENUM","isCreated","status","CRIADO","isPaused","PAUSED","isActive","ACTIVE","isClosed","value","date","closingDate","Date","now","getConfigStatusLabel","warning","pauseDate","closingDateMessage","difference","getTime","totalHours","Math","floor","totalMinutes","ceil","aux"],"mappings":"AAAA,SAASA,OAAT,QAAwB,0BAAxB;AACA,SAASC,oBAAT,QAAqC,oBAArC;AAEA,MAAMC,WAAW,GAAG;AAChB,YAAU,CADM;AAEhB,gBAAc,CAFE;AAGhB,cAAY,CAHI;AAIhB,gBAAc,CAJE;AAKhB,YAAU,EALM;AAMhB,YAAU;AANM,CAApB;AASE,eAAeA,WAAf;AAEF,OAAO,SAASC,SAAT,CAAmBC,MAAnB,EAA0B;AAC/B,SAAOA,MAAM,KAAKF,WAAW,CAACG,MAA9B;AACD;AAED,OAAO,SAASC,QAAT,CAAkBF,MAAlB,EAAyB;AAC9B,SAAOA,MAAM,KAAKF,WAAW,CAACK,MAA9B;AACD;AAED,OAAO,SAASC,QAAT,CAAkBJ,MAAlB,EAAyB;AAC9B,SAAOA,MAAM,KAAKF,WAAW,CAACO,MAA9B;AACD;AAED,OAAO,SAASC,QAAT,CAAkBC,KAAlB,EAAwB;AAC7B,MAAIC,IAAI,GAAGD,KAAX;;AACA,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAAgC;AAC9BC,IAAAA,IAAI,GAAGD,KAAK,CAAC,iBAAD,CAAZ;AACD;;AAED,MAAIE,WAAW,GAAG,IAAIC,IAAJ,CAASF,IAAT,CAAlB;AACA,MAAIG,GAAG,GAAG,IAAID,IAAJ,EAAV;AAEA,SAAQC,GAAG,GAAGF,WAAd;AACD;AAED,OAAO,SAASG,oBAAT,CAA8BC,OAA9B,EAAuC;AAC5C,MAAI,CAACA,OAAD,IAAYjB,OAAO,CAACiB,OAAO,CAAC,WAAD,CAAR,CAAvB,EACI,OAAO,EAAP;AAEJ,MAAIJ,WAAW,GAAG,IAAIC,IAAJ,CAASG,OAAO,CAAC,iBAAD,CAAhB,CAAlB;AACA,MAAIC,SAAS,GAAG,IAAIJ,IAAJ,CAASG,OAAO,CAAC,wBAAD,CAAhB,CAAhB;AACA,MAAIF,GAAG,GAAG,IAAID,IAAJ,EAAV;AAEA,MAAIK,kBAAkB,GAAGlB,oBAAoB,CAACY,WAAD,CAA7C;;AAEA,MAAIE,GAAG,GAAGF,WAAV,EAAuB;AACnB,WAAO,WAAP;AACH,GAFD,MAEO,IAAIK,SAAS,IAAIA,SAAS,GAAGH,GAA7B,EAAkC;AACrC,QAAIK,UAAU,GAAGF,SAAS,CAACG,OAAV,KAAsBN,GAAG,CAACM,OAAJ,EAAvC;AACA,QAAIC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWJ,UAAU,IAAI,OAAO,IAAX,CAArB,CAAjB;AACAA,IAAAA,UAAU,IAAK,OAAO,IAAtB;AACA,QAAIK,YAAY,GAAGF,IAAI,CAACG,IAAL,CAAUN,UAAU,IAAI,OAAO,EAAX,CAApB,CAAnB;AAEA,QAAIO,GAAG,GAAGL,UAAU,GAAG,CAAb,aAAoBA,UAApB,UAAqC,EAA/C;AACAK,IAAAA,GAAG,IAAIF,YAAY,GAAG,CAAf,aAAsBA,YAAtB,YAA2C,EAAlD;AAEA,WAAO,kBAAkBE,GAAzB;AACH,GAVM,MAUA,IAAIR,kBAAJ,EAAwB;AAC3B,WAAO,YAAYA,kBAAZ,GAAiC,GAAxC;AACH,GAFM,MAEA;AACH,WAAO,OAAP;AACH;AACF","sourcesContent":["import { isEmpty } from \"common/utils/collections\";\r\nimport { mountClosingDateText } from \"common/utils/forms\";\r\n\r\nconst STATUS_ENUM = {\r\n    \"CRIADO\": 1,\r\n    \"ATUALIZADO\": 2,\r\n    \"REMOVIDO\": 3,    \r\n    \"IMPORTATED\": 4,    \r\n    \"ACTIVE\": 13,    \r\n    \"PAUSED\": 15    \r\n  }\r\n\r\n  export default STATUS_ENUM;\r\n\r\nexport function isCreated(status){\r\n  return status === STATUS_ENUM.CRIADO\r\n}\r\n\r\nexport function isPaused(status){\r\n  return status === STATUS_ENUM.PAUSED\r\n}\r\n\r\nexport function isActive(status){\r\n  return status === STATUS_ENUM.ACTIVE\r\n}\r\n\r\nexport function isClosed(value){\r\n  let date = value\r\n  if (typeof value === 'object' ) {\r\n    date = value['data_fechamento']\r\n  }\r\n\r\n  let closingDate = new Date(date);\r\n  let now = new Date();\r\n\r\n  return (now > closingDate) \r\n}\r\n\r\nexport function getConfigStatusLabel(warning) {\r\n  if (!warning || isEmpty(warning['id_config']))\r\n      return \"\";\r\n\r\n  let closingDate = new Date(warning['data_fechamento']);\r\n  let pauseDate = new Date(warning['config_pause_timestamp']);\r\n  let now = new Date();\r\n\r\n  let closingDateMessage = mountClosingDateText(closingDate)\r\n\r\n  if (now > closingDate) {\r\n      return \"Encerrada\";\r\n  } else if (pauseDate && pauseDate > now) {\r\n      let difference = pauseDate.getTime() - now.getTime();\r\n      let totalHours = Math.floor(difference / (1000 * 3600));\r\n      difference %= (1000 * 3600);\r\n      let totalMinutes = Math.ceil(difference / (1000 * 60));\r\n\r\n      let aux = totalHours > 0 ? `${totalHours}h ` : '';\r\n      aux += totalMinutes > 0 ? `${totalMinutes}min ` : '';\r\n\r\n      return \"Suspenso por \" + aux;\r\n  } else if (closingDateMessage) {\r\n      return \"Ativo (\" + closingDateMessage + \")\";\r\n  } else {\r\n      return \"Ativo\";\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}